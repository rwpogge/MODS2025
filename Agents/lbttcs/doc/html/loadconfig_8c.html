<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>mdmtcs - Interactive MDM TCS Interface Agent: loadconfig.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">mdmtcs - Interactive MDM TCS Interface Agent
   &#160;<span id="projectnumber">Version 0.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">loadconfig.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Load/Parse ISIS client's runtime configuration file.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="client_8h_source.html">client.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad4c4f12d709b22ee2d1088222c42af14"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="loadconfig_8c.html#ad4c4f12d709b22ee2d1088222c42af14">loadConfig</a> (char *cfgfile)</td></tr>
<tr class="memdesc:ad4c4f12d709b22ee2d1088222c42af14"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load/Parse ISIS client's runtime configuration file.  <a href="loadconfig_8c.html#ad4c4f12d709b22ee2d1088222c42af14">More...</a><br /></td></tr>
<tr class="separator:ad4c4f12d709b22ee2d1088222c42af14"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Load/Parse ISIS client's runtime configuration file. </p>
<p>ISIS-style runtime configuration files (e.g., named myclient.ini, .myclientrc, whatever) contain simple Keyword-Value pairs that are parsed into global-scope variables for the client and its various subroutines to use.</p>
<p>The # is used as a comment character, making a comment line when it appears as the first character in a line by itself. Inline comments are not supported by this simple parser, but are generally ignored since it assumes (again for simplicity) that value arguments are numbers or strings without spaces. Fancier parsers can be implemented as needed. Blank lines are ignored by the parser. We adopt the convention that keywords and values are case insensitive, to remove any ambiguity.</p>
<p>This template provides a good example of common client initialiation file parameters and syntax. The idea is to make the runtime config files for all ISIS clients look pretty much the same in terms of having a common syntax as appearance. The utility function GetArg() used here is from isisutils.c, with the prototype defined in the isisclient.h header.</p>
<p>A typical runtime config file has the following structure: </p><div class="fragment"><div class="line"><span class="preprocessor">#</span></div>
<div class="line"><span class="preprocessor"># lbttcs client runtime config file</span></div>
<div class="line"><span class="preprocessor">#</span></div>
<div class="line"><span class="preprocessor"># R. Pogge, OSU Astronomy Dept.</span></div>
<div class="line"><span class="preprocessor"># pogge@astronomy.ohio-state.edu</span></div>
<div class="line"><span class="preprocessor"># 2005 May 13</span></div>
<div class="line"><span class="preprocessor">#</span></div>
<div class="line"><span class="preprocessor">################################################################</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor"># lbttcs ISIS client info (Host=localhost is implicit)</span></div>
<div class="line"> </div>
<div class="line">ID   TC</div>
<div class="line">Port 10701</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor"># Application Mode: either STANDALONE or ISISclient</span></div>
<div class="line"> </div>
<div class="line">Mode Standalone</div>
<div class="line"><span class="preprocessor">#Mode ISISclient</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor"># ISIS Server Info - only releveant if Mode=ISISclient</span></div>
<div class="line"> </div>
<div class="line">ISISID   IS</div>
<div class="line">ISISHost 172.16.1.3</div>
<div class="line">ISISPort 6600</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor"># Default IIF instance information</span></div>
<div class="line"> </div>
<div class="line">TELESCOPE LBT-SX</div>
<div class="line">PROXY MODS1_Test</div>
<div class="line">INSTID MODS</div>
<div class="line">FOCSTATION directGregorian</div>
<div class="line">SIDE left</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor"># Runtime flags </span></div>
<div class="line"> </div>
<div class="line">VERBOSE</div>
<div class="line"><span class="preprocessor">#nolog</span></div>
<div class="line"><span class="preprocessor">#debug</span></div>
<div class="line"><span class="preprocessor">opMode Live</span></div>
</div><!-- fragment --><p>As this example shows, the goal is that runtime configuration files are easily read and created by humans. A common syntax makes maintenance of many clients easier.</p>
<dl class="section author"><dt>Author</dt><dd>R. Pogge, OSU Astronomy Dept. (<a href="#" onclick="location.href='mai'+'lto:'+'pog'+'ge'+'@as'+'tr'+'ono'+'my'+'.oh'+'io'+'-st'+'at'+'e.e'+'du'; return false;">pogge<span style="display: none;">.nosp@m.</span>@ast<span style="display: none;">.nosp@m.</span>ronom<span style="display: none;">.nosp@m.</span>y.oh<span style="display: none;">.nosp@m.</span>io-st<span style="display: none;">.nosp@m.</span>ate.<span style="display: none;">.nosp@m.</span>edu</a>) </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2003 September 14 (original version based on the ISIS server ParseIniFile())</dd></dl>
<dl class="section user"><dt>Mods Modification History:</dt><dd><pre>  
2005 Jul 28 - new application
2007 Jul 02 - added opMode parameter (LIVE or SIM)
2009 Dec 19 - start of rewrite to handle new ICE hooks following 481s013c
2010 Jan 20 - near-final command set for the ICE version of the IIF
2010 March  - remote testing with a live LBT
2010 Dec - modifications on-site, live LBT+MOD1 [rwp/osu]
</pre> <br  />
 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ad4c4f12d709b22ee2d1088222c42af14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4c4f12d709b22ee2d1088222c42af14">&#9670;&nbsp;</a></span>loadConfig()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int loadConfig </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>cfgfile</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load/Parse ISIS client's runtime configuration file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cfgfile</td><td>Path/name of the client runtime configuration file </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if success, &lt;0 if failure. All error message are printed to the client's console.</dd></dl>
<p>The precise actions of LoadConfig() are tailored to the client application. </p>

<p class="reference">References <a class="el" href="client_8h.html#a19b3c234b75f9c2c45f5bd24d54ffa8c">client</a>, <a class="el" href="client_8h.html#a6b490d2db43ea8dfeeea260234b69420">DEFAULT_ISISHOST</a>, <a class="el" href="client_8h.html#acc5581ec0ccfddf76007f6f239e76cc0">DEFAULT_ISISID</a>, <a class="el" href="client_8h.html#a1cd4af05e100cd33b550319070448afb">DEFAULT_ISISPORT</a>, <a class="el" href="client_8h.html#a4d68235dfa433dea9c42f14784f80f6a">DEFAULT_LOGFILE</a>, <a class="el" href="client_8h.html#aa8abc928081c09bb5e59865d726c4081">DEFAULT_MYID</a>, <a class="el" href="client_8h.html#ab0df5ac6cd915b1b16c8d49009cb4b57">DEFAULT_MYPORT</a>, <a class="el" href="structlbtinfo.html#a7612b2267ad970b043e2da60ff8441ce">lbtinfo::focStation</a>, <a class="el" href="structlbtinfo.html#a335a62d5a3c3b4104dc8aa3d452c4365">lbtinfo::iceProps</a>, <a class="el" href="client_8h.html#a093b706b316f549283fbfaf462802cfd">initLBTInfo()</a>, <a class="el" href="structlbtinfo.html#ad2bc04607cad95687dd45dc68a0f9f0a">lbtinfo::instID</a>, <a class="el" href="client_8h.html#a0eea90f257caa91e48270b47ab8739a9">LABSIM</a>, <a class="el" href="client_8h.html#a85c8bf9f1e0905523e46654f286b2339">lbt</a>, <a class="el" href="client_8h.html#a3148d7709dc6606cdc38956bd2635940">LIVE</a>, <a class="el" href="client_8h.html#a44abb36ef3ad05298697651a73be4e0e">MAXCFGLINE</a>, <a class="el" href="structlbtinfo.html#a0c7294fea5a74e3ea26ce270e4f9a344">lbtinfo::opMode</a>, <a class="el" href="structlbtinfo.html#acabc9da9dbaa0b2592b6b12c13158f4a">lbtinfo::proxy</a>, <a class="el" href="structlbtinfo.html#a145268df10c89b8b124604842c634dc4">lbtinfo::side</a>, <a class="el" href="structlbtinfo.html#a8fe0b37ebe56cefb9672cf8efaeba4ff">lbtinfo::telescope</a>, and <a class="el" href="client_8h.html#ac6df28dd8c41baea1897258466220d09">useCLI</a>.</p>

<p class="reference">Referenced by <a class="el" href="main_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
