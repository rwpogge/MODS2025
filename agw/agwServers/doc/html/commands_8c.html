<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AGWSim - Interactive MODS AGW Simulator Agent: commands.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AGWSim - Interactive MODS AGW Simulator Agent
   &#160;<span id="projectnumber">Version 0.2.4</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">commands.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>MODS AGW control application command interpreter functions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;instrutils.h&quot;</code><br />
<code>#include &quot;isl_funcs.h&quot;</code><br />
<code>#include &quot;islcommon.h&quot;</code><br />
<code>#include &quot;isl_shmaddr.h&quot;</code><br />
<code>#include &quot;isisclient.h&quot;</code><br />
<code>#include &quot;mmccontrol.h&quot;</code><br />
<code>#include &quot;../include/client.h&quot;</code><br />
<code>#include &quot;../include/commands.h&quot;</code><br />
<code>#include &quot;../include/agw_datacodes.h&quot;</code><br />
<code>#include &quot;<a class="el" href="mlc_8c.html">./mlc.c</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a00b084bc0ea03de889eff2b593c43001"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#a00b084bc0ea03de889eff2b593c43001">getDateTime</a> (void)</td></tr>
<tr class="memdesc:a00b084bc0ea03de889eff2b593c43001"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the UTC date and time to microsecond precision as a system timestamp.  <a href="commands_8c.html#a00b084bc0ea03de889eff2b593c43001">More...</a><br /></td></tr>
<tr class="separator:a00b084bc0ea03de889eff2b593c43001"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1cb10f66c38a2a44c00b595d616fc75"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#aa1cb10f66c38a2a44c00b595d616fc75">cmd_quit</a> (char *args, MsgType msgtype, char *reply)</td></tr>
<tr class="memdesc:aa1cb10f66c38a2a44c00b595d616fc75"><td class="mdescLeft">&#160;</td><td class="mdescRight">QUIT command - terminate the client session.  <a href="commands_8c.html#aa1cb10f66c38a2a44c00b595d616fc75">More...</a><br /></td></tr>
<tr class="separator:aa1cb10f66c38a2a44c00b595d616fc75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affe514867ab6600b9eb2b783dd32b996"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#affe514867ab6600b9eb2b783dd32b996">cmd_noop</a> (char *args, MsgType msgtype, char *reply)</td></tr>
<tr class="memdesc:affe514867ab6600b9eb2b783dd32b996"><td class="mdescLeft">&#160;</td><td class="mdescRight">CR with no command - do nothing just to return back safely.  <a href="commands_8c.html#affe514867ab6600b9eb2b783dd32b996">More...</a><br /></td></tr>
<tr class="separator:affe514867ab6600b9eb2b783dd32b996"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb18b9bbb997bd5f8af6ff7992f76cc8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#aeb18b9bbb997bd5f8af6ff7992f76cc8">cmd_ping</a> (char *args, MsgType msgtype, char *reply)</td></tr>
<tr class="memdesc:aeb18b9bbb997bd5f8af6ff7992f76cc8"><td class="mdescLeft">&#160;</td><td class="mdescRight">PING command - communication handshaking request.  <a href="commands_8c.html#aeb18b9bbb997bd5f8af6ff7992f76cc8">More...</a><br /></td></tr>
<tr class="separator:aeb18b9bbb997bd5f8af6ff7992f76cc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25bc932ab16b3b0e789181a71b504482"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#a25bc932ab16b3b0e789181a71b504482">cmd_pong</a> (char *args, MsgType msgtype, char *reply)</td></tr>
<tr class="memdesc:a25bc932ab16b3b0e789181a71b504482"><td class="mdescLeft">&#160;</td><td class="mdescRight">PONG command - communication handshaking acknowledgment.  <a href="commands_8c.html#a25bc932ab16b3b0e789181a71b504482">More...</a><br /></td></tr>
<tr class="separator:a25bc932ab16b3b0e789181a71b504482"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af607228109da4f3d3e63e0bc715bf6f7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#af607228109da4f3d3e63e0bc715bf6f7">cmd_mmcIC</a> (char *args, MsgType msgtype, char *reply)</td></tr>
<tr class="memdesc:af607228109da4f3d3e63e0bc715bf6f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">MMCIC command - Independent command for PLC interrogation.  <a href="commands_8c.html#af607228109da4f3d3e63e0bc715bf6f7">More...</a><br /></td></tr>
<tr class="separator:af607228109da4f3d3e63e0bc715bf6f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf609a3a99d816677a46138ec89d67e8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#adf609a3a99d816677a46138ec89d67e8">cmd_mmccu</a> (char *args, MsgType msgtype, char *reply)</td></tr>
<tr class="memdesc:adf609a3a99d816677a46138ec89d67e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">MMCCU command - Independent command for PLC interrogation.  <a href="commands_8c.html#adf609a3a99d816677a46138ec89d67e8">More...</a><br /></td></tr>
<tr class="separator:adf609a3a99d816677a46138ec89d67e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b7e22a2df8f577f559fdb6df89fb15a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#a7b7e22a2df8f577f559fdb6df89fb15a">cmd_version</a> (char *args, MsgType msgtype, char *reply)</td></tr>
<tr class="memdesc:a7b7e22a2df8f577f559fdb6df89fb15a"><td class="mdescLeft">&#160;</td><td class="mdescRight">VERSION command - report application version and compilation info.  <a href="commands_8c.html#a7b7e22a2df8f577f559fdb6df89fb15a">More...</a><br /></td></tr>
<tr class="separator:a7b7e22a2df8f577f559fdb6df89fb15a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefdcd23f71a5af34669b8f81c4f105ef"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#aefdcd23f71a5af34669b8f81c4f105ef">cmd_verbose</a> (char *args, MsgType msgtype, char *reply)</td></tr>
<tr class="memdesc:aefdcd23f71a5af34669b8f81c4f105ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">VERBOSE command - toggle verbose console output on/off.  <a href="commands_8c.html#aefdcd23f71a5af34669b8f81c4f105ef">More...</a><br /></td></tr>
<tr class="separator:aefdcd23f71a5af34669b8f81c4f105ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48cc18e5e4178f3383a67c557680bd1e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#a48cc18e5e4178f3383a67c557680bd1e">cmd_debug</a> (char *args, MsgType msgtype, char *reply)</td></tr>
<tr class="memdesc:a48cc18e5e4178f3383a67c557680bd1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">DEBUG command - toggle debugging (super-verbose) console output on/off.  <a href="commands_8c.html#a48cc18e5e4178f3383a67c557680bd1e">More...</a><br /></td></tr>
<tr class="separator:a48cc18e5e4178f3383a67c557680bd1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55e13dc821a12cf5924f690f0e3402dc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#a55e13dc821a12cf5924f690f0e3402dc">cmd_info</a> (char *args, MsgType msgtype, char *reply)</td></tr>
<tr class="memdesc:a55e13dc821a12cf5924f690f0e3402dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">INFO command - report client application runtime information.  <a href="commands_8c.html#a55e13dc821a12cf5924f690f0e3402dc">More...</a><br /></td></tr>
<tr class="separator:a55e13dc821a12cf5924f690f0e3402dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a357eae20439e1160684cd0dc55568fbe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#a357eae20439e1160684cd0dc55568fbe">cmd_help</a> (char *args, MsgType msgtype, char *reply)</td></tr>
<tr class="memdesc:a357eae20439e1160684cd0dc55568fbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">HELP command - print a list of commands on the client console.  <a href="commands_8c.html#a357eae20439e1160684cd0dc55568fbe">More...</a><br /></td></tr>
<tr class="separator:a357eae20439e1160684cd0dc55568fbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a988676be3580ed43836e1a40f32f17e7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#a988676be3580ed43836e1a40f32f17e7">cmd_status</a> (char *args, MsgType msgtype, char *reply)</td></tr>
<tr class="memdesc:a988676be3580ed43836e1a40f32f17e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">STATUS command - query AGW stage status.  <a href="commands_8c.html#a988676be3580ed43836e1a40f32f17e7">More...</a><br /></td></tr>
<tr class="separator:a988676be3580ed43836e1a40f32f17e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca451e1e42ff698bf35d038ecd950867"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#aca451e1e42ff698bf35d038ecd950867">cmd_open</a> (char *args, MsgType msgtype, char *reply)</td></tr>
<tr class="memdesc:aca451e1e42ff698bf35d038ecd950867"><td class="mdescLeft">&#160;</td><td class="mdescRight">OPEN command - open all or 1 comm port.  <a href="commands_8c.html#aca451e1e42ff698bf35d038ecd950867">More...</a><br /></td></tr>
<tr class="separator:aca451e1e42ff698bf35d038ecd950867"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2730d9b180c5cb860aa739f4780c101b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#a2730d9b180c5cb860aa739f4780c101b">cmd_close</a> (char *args, MsgType msgtype, char *reply)</td></tr>
<tr class="memdesc:a2730d9b180c5cb860aa739f4780c101b"><td class="mdescLeft">&#160;</td><td class="mdescRight">CLOSE command - close a comm port re-initialize the microstep drive.  <a href="commands_8c.html#a2730d9b180c5cb860aa739f4780c101b">More...</a><br /></td></tr>
<tr class="separator:a2730d9b180c5cb860aa739f4780c101b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee9ff4b934d75a8e7d7d460724e54580"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#aee9ff4b934d75a8e7d7d460724e54580">cmd_reset</a> (char *args, MsgType msgtype, char *reply)</td></tr>
<tr class="memdesc:aee9ff4b934d75a8e7d7d460724e54580"><td class="mdescLeft">&#160;</td><td class="mdescRight">RESET command - reload the runtime config paramters and re-initialize the AGW stage parameters.  <a href="commands_8c.html#aee9ff4b934d75a8e7d7d460724e54580">More...</a><br /></td></tr>
<tr class="separator:aee9ff4b934d75a8e7d7d460724e54580"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1429620bfd12180699a5cbb00ec49afb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#a1429620bfd12180699a5cbb00ec49afb">cmd_filter</a> (char *args, MsgType msgtype, char *reply)</td></tr>
<tr class="memdesc:a1429620bfd12180699a5cbb00ec49afb"><td class="mdescLeft">&#160;</td><td class="mdescRight">SETFILTER and GETFILTER commands - set/query the Acquistion/Guide camera filter.  <a href="commands_8c.html#a1429620bfd12180699a5cbb00ec49afb">More...</a><br /></td></tr>
<tr class="separator:a1429620bfd12180699a5cbb00ec49afb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7344d7ca398862ff787b6fdc16146641"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#a7344d7ca398862ff787b6fdc16146641">cmd_xy</a> (char *args, MsgType msgtype, char *reply)</td></tr>
<tr class="memdesc:a7344d7ca398862ff787b6fdc16146641"><td class="mdescLeft">&#160;</td><td class="mdescRight">SETXY/GETXY commands - set/query the AGW stage absolute X,Y position.  <a href="commands_8c.html#a7344d7ca398862ff787b6fdc16146641">More...</a><br /></td></tr>
<tr class="separator:a7344d7ca398862ff787b6fdc16146641"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac054c29585178a1cb24aa710ac838389"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#ac054c29585178a1cb24aa710ac838389">cmd_focus</a> (char *args, MsgType msgtype, char *reply)</td></tr>
<tr class="memdesc:ac054c29585178a1cb24aa710ac838389"><td class="mdescLeft">&#160;</td><td class="mdescRight">SETFOCUS/GETFOCUS command - set/QUERY the absolute camera focus in millimeters.  <a href="commands_8c.html#ac054c29585178a1cb24aa710ac838389">More...</a><br /></td></tr>
<tr class="separator:ac054c29585178a1cb24aa710ac838389"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20fc57396c588a2a263d9e2ea59ed25f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#a20fc57396c588a2a263d9e2ea59ed25f">cmd_foffset</a> (char *args, MsgType msgtype, char *reply)</td></tr>
<tr class="memdesc:a20fc57396c588a2a263d9e2ea59ed25f"><td class="mdescLeft">&#160;</td><td class="mdescRight">FOCOFFSET command - set/query the focus offset.  <a href="commands_8c.html#a20fc57396c588a2a263d9e2ea59ed25f">More...</a><br /></td></tr>
<tr class="separator:a20fc57396c588a2a263d9e2ea59ed25f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43b886d0c43ad55c74421fa5a29fb212"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#a43b886d0c43ad55c74421fa5a29fb212">cmd_autofoc</a> (char *args, MsgType msgtype, char *reply)</td></tr>
<tr class="memdesc:a43b886d0c43ad55c74421fa5a29fb212"><td class="mdescLeft">&#160;</td><td class="mdescRight">AUTOFOCUS command - set/query the autofocus state.  <a href="commands_8c.html#a43b886d0c43ad55c74421fa5a29fb212">More...</a><br /></td></tr>
<tr class="separator:a43b886d0c43ad55c74421fa5a29fb212"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33a94b4c1ae07bd8270d4b0e1b633196"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#a33a94b4c1ae07bd8270d4b0e1b633196">cmd_init</a> (char *args, MsgType msgtype, char *reply)</td></tr>
<tr class="memdesc:a33a94b4c1ae07bd8270d4b0e1b633196"><td class="mdescLeft">&#160;</td><td class="mdescRight">INIT command - initialize the AGW stage and filter wheel.  <a href="commands_8c.html#a33a94b4c1ae07bd8270d4b0e1b633196">More...</a><br /></td></tr>
<tr class="separator:a33a94b4c1ae07bd8270d4b0e1b633196"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9ef1b5fbf25715cc45fc7906b05f615"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#ae9ef1b5fbf25715cc45fc7906b05f615">cmd_home</a> (char *args, MsgType msgtype, char *reply)</td></tr>
<tr class="memdesc:ae9ef1b5fbf25715cc45fc7906b05f615"><td class="mdescLeft">&#160;</td><td class="mdescRight">HOME command - send the AGW stage to its home (stowed) position.  <a href="commands_8c.html#ae9ef1b5fbf25715cc45fc7906b05f615">More...</a><br /></td></tr>
<tr class="separator:ae9ef1b5fbf25715cc45fc7906b05f615"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b804b1a84d9e6f235251f3dfac52dbc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#a6b804b1a84d9e6f235251f3dfac52dbc">cmd_agw</a> (char *args, MsgType msgtype, char *reply)</td></tr>
<tr class="memdesc:a6b804b1a84d9e6f235251f3dfac52dbc"><td class="mdescLeft">&#160;</td><td class="mdescRight">agw command - send commands to the AGW stage  <a href="commands_8c.html#a6b804b1a84d9e6f235251f3dfac52dbc">More...</a><br /></td></tr>
<tr class="separator:a6b804b1a84d9e6f235251f3dfac52dbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afad782c4abb40b72bc45da5fed0cdd93"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#afad782c4abb40b72bc45da5fed0cdd93">cmd_center</a> (char *args, MsgType msgtype, char *reply)</td></tr>
<tr class="memdesc:afad782c4abb40b72bc45da5fed0cdd93"><td class="mdescLeft">&#160;</td><td class="mdescRight">CENTER command - send the AGW stage to the science field center.  <a href="commands_8c.html#afad782c4abb40b72bc45da5fed0cdd93">More...</a><br /></td></tr>
<tr class="separator:afad782c4abb40b72bc45da5fed0cdd93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adecdb51faeee91e13090221b939fbc20"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#adecdb51faeee91e13090221b939fbc20">cmd_calib</a> (char *args, MsgType msgtype, char *reply)</td></tr>
<tr class="memdesc:adecdb51faeee91e13090221b939fbc20"><td class="mdescLeft">&#160;</td><td class="mdescRight">CALIB command - insert or retract a simulated MODS Calibration Tower.  <a href="commands_8c.html#adecdb51faeee91e13090221b939fbc20">More...</a><br /></td></tr>
<tr class="separator:adecdb51faeee91e13090221b939fbc20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab404c6baedfea5973fededf54f2af254"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#ab404c6baedfea5973fededf54f2af254">cmd_lock</a> (char *args, MsgType msgtype, char *reply)</td></tr>
<tr class="memdesc:ab404c6baedfea5973fededf54f2af254"><td class="mdescLeft">&#160;</td><td class="mdescRight">LOCK command - assert a command lock on the AGW stage.  <a href="commands_8c.html#ab404c6baedfea5973fededf54f2af254">More...</a><br /></td></tr>
<tr class="separator:ab404c6baedfea5973fededf54f2af254"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca1fe9cde997e0d791ead647990832b3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#aca1fe9cde997e0d791ead647990832b3">cmd_unlock</a> (char *args, MsgType msgtype, char *reply)</td></tr>
<tr class="memdesc:aca1fe9cde997e0d791ead647990832b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">UNLOCK command - release a command lock on the AGW stage.  <a href="commands_8c.html#aca1fe9cde997e0d791ead647990832b3">More...</a><br /></td></tr>
<tr class="separator:aca1fe9cde997e0d791ead647990832b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9683258ca76ad15446d45def8ffadb17"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#a9683258ca76ad15446d45def8ffadb17">cmd_driftvec</a> (char *args, MsgType msgtype, char *reply)</td></tr>
<tr class="memdesc:a9683258ca76ad15446d45def8ffadb17"><td class="mdescLeft">&#160;</td><td class="mdescRight">DRIFTVEC command - Set/query the stage drift vector.  <a href="commands_8c.html#a9683258ca76ad15446d45def8ffadb17">More...</a><br /></td></tr>
<tr class="separator:a9683258ca76ad15446d45def8ffadb17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0b8d9f87ecb2a7dec2e1154b86fc0d7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#ad0b8d9f87ecb2a7dec2e1154b86fc0d7">cmd_drift</a> (char *args, MsgType msgtype, char *reply)</td></tr>
<tr class="memdesc:ad0b8d9f87ecb2a7dec2e1154b86fc0d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">DRIFT command - start/stop/query drift.  <a href="commands_8c.html#ad0b8d9f87ecb2a7dec2e1154b86fc0d7">More...</a><br /></td></tr>
<tr class="separator:ad0b8d9f87ecb2a7dec2e1154b86fc0d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb666efb00d42bdf6b8d1246c21137bc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#abb666efb00d42bdf6b8d1246c21137bc">cmd_abort</a> (char *args, MsgType msgtype, char *reply)</td></tr>
<tr class="memdesc:abb666efb00d42bdf6b8d1246c21137bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">ABORT command - abort all AGW stage motions and hold position pending further instructions.  <a href="commands_8c.html#abb666efb00d42bdf6b8d1246c21137bc">More...</a><br /></td></tr>
<tr class="separator:abb666efb00d42bdf6b8d1246c21137bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d1221a3a5afcbf2b18a5c4da66a3f84"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#a8d1221a3a5afcbf2b18a5c4da66a3f84">cmd_setpos</a> (char *args, MsgType msgtype, char *reply)</td></tr>
<tr class="memdesc:a8d1221a3a5afcbf2b18a5c4da66a3f84"><td class="mdescLeft">&#160;</td><td class="mdescRight">setposition commands - sets single-axis position  <a href="commands_8c.html#a8d1221a3a5afcbf2b18a5c4da66a3f84">More...</a><br /></td></tr>
<tr class="separator:a8d1221a3a5afcbf2b18a5c4da66a3f84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af135627181e5fb68c2cc30fb891bd6c4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#af135627181e5fb68c2cc30fb891bd6c4">cmd_getpos</a> (char *args, MsgType msgtype, char *reply)</td></tr>
<tr class="memdesc:af135627181e5fb68c2cc30fb891bd6c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">getposition commands - get single-axis raw device positions  <a href="commands_8c.html#af135627181e5fb68c2cc30fb891bd6c4">More...</a><br /></td></tr>
<tr class="separator:af135627181e5fb68c2cc30fb891bd6c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7788632123c27ff024ab982cbb89517c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#a7788632123c27ff024ab982cbb89517c">cmd_ccdAgwSfp</a> (char *args, MsgType msgtype, char *reply)</td></tr>
<tr class="separator:a7788632123c27ff024ab982cbb89517c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae61f3ec35bd27160c23572589142bbd8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#ae61f3ec35bd27160c23572589142bbd8">SFPtoAGWgeneric</a> (char *args, MsgType msgtype, char *reply)</td></tr>
<tr class="separator:ae61f3ec35bd27160c23572589142bbd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f70c1f81eb6dedfeb6eb5b428ea55c5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#a0f70c1f81eb6dedfeb6eb5b428ea55c5">AGWgenericToSFP</a> (char *args, MsgType msgtype, char *reply)</td></tr>
<tr class="separator:a0f70c1f81eb6dedfeb6eb5b428ea55c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec4bfafeadd411ad56cef99f28ea0286"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#aec4bfafeadd411ad56cef99f28ea0286">SFPToCCDgeneric</a> (char *args, MsgType msgtype, char *reply)</td></tr>
<tr class="separator:aec4bfafeadd411ad56cef99f28ea0286"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbea7a4e07a1f42d677c1240a07bec81"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#adbea7a4e07a1f42d677c1240a07bec81">CCDgenericToSFP</a> (char *args, MsgType msgtype, char *reply)</td></tr>
<tr class="separator:adbea7a4e07a1f42d677c1240a07bec81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bb767200a73d0943b0bb4c17803ada6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#a6bb767200a73d0943b0bb4c17803ada6">GCSCommand</a> (char *line, char agw_reply[])</td></tr>
<tr class="memdesc:a6bb767200a73d0943b0bb4c17803ada6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process a command from the GCS client's.  <a href="commands_8c.html#a6bb767200a73d0943b0bb4c17803ada6">More...</a><br /></td></tr>
<tr class="separator:a6bb767200a73d0943b0bb4c17803ada6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42768410389829f6606e229cfb853dc5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#a42768410389829f6606e229cfb853dc5">SocketCommand</a> (char *<a class="el" href="agwServer_8c.html#a633ddd27398d74d8dad43c0fe59b0d51">buf</a>)</td></tr>
<tr class="memdesc:a42768410389829f6606e229cfb853dc5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process a message/command from a remote ISIS server/client application.  <a href="commands_8c.html#a42768410389829f6606e229cfb853dc5">More...</a><br /></td></tr>
<tr class="separator:a42768410389829f6606e229cfb853dc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ae0b53dfa6d908dfd8560f7470e8e601b"><td class="memItemLeft" align="right" valign="top">agwpar_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#ae0b53dfa6d908dfd8560f7470e8e601b">agw</a></td></tr>
<tr class="separator:ae0b53dfa6d908dfd8560f7470e8e601b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7677647417893fc582bd50641a6cc3a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#ab7677647417893fc582bd50641a6cc3a">commandID</a></td></tr>
<tr class="separator:ab7677647417893fc582bd50641a6cc3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>MODS AGW control application command interpreter functions. </p>
<p>This module contains the command "action" functions called to service ttytool commands. These consist of a suite of </p><ul>
<li>"common" client action functions common to most ISIS clients </li>
<li>client-specific functions that perform the client's particular tasks </li>
<li>common interface routines for keyboard and ISIS socket interfaces.</li>
</ul>
<p>The common client commands include the following:</p>
<p>These 3 commands are <b>REQUIRED</b> of all ISIS client apps: </p><ul>
<li><code><a class="el" href="commands_8c.html#aa1cb10f66c38a2a44c00b595d616fc75" title="QUIT command - terminate the client session.">cmd_quit()</a></code> terminate a client session (QUIT) </li>
<li><code><a class="el" href="commands_8c.html#aeb18b9bbb997bd5f8af6ff7992f76cc8" title="PING command - communication handshaking request.">cmd_ping()</a></code> communications handshaking request (PING) from a remote ISIS node </li>
<li><code><a class="el" href="commands_8c.html#a25bc932ab16b3b0e789181a71b504482" title="PONG command - communication handshaking acknowledgment.">cmd_pong()</a></code> communications handshaking acknowledgment (PONG) from a remote ISIS node</li>
</ul>
<p>These client commands are recommended for most apps: </p><ul>
<li><code><a class="el" href="commands_8c.html#a7b7e22a2df8f577f559fdb6df89fb15a" title="VERSION command - report application version and compilation info.">cmd_version()</a></code> Report application version information (VERSION) </li>
<li><code><a class="el" href="commands_8c.html#a55e13dc821a12cf5924f690f0e3402dc" title="INFO command - report client application runtime information.">cmd_info()</a></code> Report client runtime configuration (INFO, sometimes CONFIG in legacy apps).</li>
</ul>
<p>These are common commands relevant for the CLI, but generally not available to remote ISIS nodes (e.g., they test that the message type is EXEC:): </p><ul>
<li><code><a class="el" href="commands_8c.html#aefdcd23f71a5af34669b8f81c4f105ef" title="VERBOSE command - toggle verbose console output on/off.">cmd_verbose()</a></code> Toggle verbose output to the client console on/off (VERBOSE) </li>
<li><code><a class="el" href="commands_8c.html#a48cc18e5e4178f3383a67c557680bd1e" title="DEBUG command - toggle debugging (super-verbose) console output on/off.">cmd_debug()</a></code> Toggle debugging (super-verbose) output to console on/off (DEBUG) </li>
<li><code><a class="el" href="commands_8c.html#a357eae20439e1160684cd0dc55568fbe" title="HELP command - print a list of commands on the client console.">cmd_help()</a></code> List interactive client commands (HELP or ?)</li>
</ul>
<p>These are then followed by cmd_xxx() action functions that implement the various client tasks.</p>
<p>At the end of this file are the template I/O handlers used by the command interpreter: </p><ul>
<li>KeyboardCommand() Keyboard command handler (command-line interface) </li>
<li><a class="el" href="commands_8c.html#a42768410389829f6606e229cfb853dc5" title="Process a message/command from a remote ISIS server/client application.">SocketCommand()</a> Socket command/message handler (client socket interface)</li>
</ul>
<dl class="section author"><dt>Author</dt><dd>R. Pogge, OSU Astronomy Dept. (<a href="#" onclick="location.href='mai'+'lto:'+'pog'+'ge'+'@as'+'tr'+'ono'+'my'+'.oh'+'io'+'-st'+'at'+'e.e'+'du'; return false;">pogge<span style="display: none;">.nosp@m.</span>@ast<span style="display: none;">.nosp@m.</span>ronom<span style="display: none;">.nosp@m.</span>y.oh<span style="display: none;">.nosp@m.</span>io-st<span style="display: none;">.nosp@m.</span>ate.<span style="display: none;">.nosp@m.</span>edu</a>) </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2006 Jan 11</dd></dl>
<dl class="section user"><dt>Modification History:</dt><dd><pre>
   2008 Jan 28 - extensive changes for the actual AGW stage system and
                 simulation modes [rwp/osu]
   2009 Oct 24 - changes based on pre-deployment work on the AGW stage and
                 requirements for the LBT GCS interface [rdg &amp; rwp/osu]
   2010 March 23 - Removed much of the test/debug scaffolding to make AGW
                   run smoother and faster.
   2010 Aug 10 - Added tranfermation coefficients for AGW prepared by
                 Rick Pogge. Instruction will come from GCS and/or AGW Service
                 standalone functions are in the samples directroy. 
   2010 Sept 18 - Fixed a nuisance home error message from Controllers.
                  Added the sfptoagw, agwtosfp, ccdtosfp, ccdtoagw changes
                  to code on the MODS side.

</pre> </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a00b084bc0ea03de889eff2b593c43001"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00b084bc0ea03de889eff2b593c43001">&#9670;&nbsp;</a></span>getDateTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* getDateTime </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the UTC date and time to microsecond precision as a system timestamp. </p>
<p>Reads the system's UTC time clock and returns a pointer to a string with the fine-grained UTC time in <code>hh:mm:ss.ssssss</code> format.</p>
<p>Based on gf_time() from Stevens, W.R., 1998, Unix Network Programming, Vol 2, Prentice Hall, Figure 15.6, but I make a string with an ISO8601 compliant format.</p>
<p>Of course, while it may return microsecond precision, microsecond accuracy is quite another thing... </p>

<p class="reference">Referenced by <a class="el" href="mmcLOGGER_8c.html#aa5a669898f842c0c414b68df99640486">mmcLOGGER()</a>.</p>

</div>
</div>
<a id="aa1cb10f66c38a2a44c00b595d616fc75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1cb10f66c38a2a44c00b595d616fc75">&#9670;&nbsp;</a></span>cmd_quit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmd_quit </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&#160;</td>
          <td class="paramname"><em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>reply</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>QUIT command - terminate the client session. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>string with the command-line arguments </td></tr>
    <tr><td class="paramname">msgtype</td><td>message type if the command was sent as an IMPv2 message </td></tr>
    <tr><td class="paramname">reply</td><td>string to contain the command return reply </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>#CMD_OK if command executed without errors, #CMD_ERR if an error occurred. On errors <em>reply</em> contains the error message.</dd></dl>
<dl class="section user"><dt>Usage:</dt><dd>quit</dd></dl>
<p>Executes the application QUIT command. Only works if msgtype=EXEC, indicating that it is an IMPv2 executive command. This prevents remote applications from prematurely terminating this application by sending a QUIT command unqualified by the EXEC: directive.</p>
<dl class="section user"><dt>Lock Behavior:</dt><dd>Since quit requires EXEC, it overrides any locks. Maybe dangerous... </dd></dl>

<p class="reference">References <a class="el" href="agwServer_8c.html#a05a8c6c4a74edaf6a10b26ec18485ddd">appClient</a>.</p>

</div>
</div>
<a id="affe514867ab6600b9eb2b783dd32b996"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affe514867ab6600b9eb2b783dd32b996">&#9670;&nbsp;</a></span>cmd_noop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmd_noop </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&#160;</td>
          <td class="paramname"><em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>reply</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>CR with no command - do nothing just to return back safely. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>blank string with no or just garbage </td></tr>
    <tr><td class="paramname">msgtype</td><td>message type if the command was sent as an IMPv2 message </td></tr>
    <tr><td class="paramname">reply</td><td>string to contain the command return reply </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>#CMD_NOOP only with message.</dd></dl>
<dl class="section user"><dt>Usage:</dt><dd>BLANK or unknown command</dd></dl>
<p>Executes the application QUIT command. Only works if msgtype=NOOP, indicating that it is an IMPv2 executive command. This prevents remote applications from hanging or prematurely terminating. </p>

<p class="reference">References <a class="el" href="agwServer_8c.html#a05a8c6c4a74edaf6a10b26ec18485ddd">appClient</a>.</p>

</div>
</div>
<a id="aeb18b9bbb997bd5f8af6ff7992f76cc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb18b9bbb997bd5f8af6ff7992f76cc8">&#9670;&nbsp;</a></span>cmd_ping()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmd_ping </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&#160;</td>
          <td class="paramname"><em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>reply</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>PING command - communication handshaking request. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>string with the command-line arguments </td></tr>
    <tr><td class="paramname">msgtype</td><td>message type if the command was sent as an IMPv2 message </td></tr>
    <tr><td class="paramname">reply</td><td>string to contain the command return reply </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>#CMD_OK if command executed without errors, #CMD_ERR if an error occurred. On errors reply contains the error message.</dd></dl>
<p>This function is invoked when the client application receives a PING from a remote host requesting a communications handshaking reply.</p>
<p>PINGs are actually handled separately in the <a class="el" href="commands_8c.html#a42768410389829f6606e229cfb853dc5" title="Process a message/command from a remote ISIS server/client application.">SocketCommand()</a> handler (nothing is done by the KeyboardCommand() handler) because the PONG sent back acknowledging the comm handshaking request is, in effect, a pseudo-command (implicit REQ:), not a "DONE:" response to a command request. This exception to the general messaging syntax has to be handled carefully to prevent problems, especially to ensure backwards compatibility with older IMPv applications.</p>
<dl class="section user"><dt>Lock Behavior:</dt><dd>PINGs ignore the lock state.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="commands_8c.html#a25bc932ab16b3b0e789181a71b504482" title="PONG command - communication handshaking acknowledgment.">cmd_pong</a> </dd></dl>

</div>
</div>
<a id="a25bc932ab16b3b0e789181a71b504482"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25bc932ab16b3b0e789181a71b504482">&#9670;&nbsp;</a></span>cmd_pong()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmd_pong </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&#160;</td>
          <td class="paramname"><em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>reply</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>PONG command - communication handshaking acknowledgment. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>string with the command-line arguments </td></tr>
    <tr><td class="paramname">msgtype</td><td>message type if the command was sent as an IMPv2 message </td></tr>
    <tr><td class="paramname">reply</td><td>string to contain the command return reply </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>#CMD_NOOP since PONG is a no-op pseudo command.</dd></dl>
<p>For historical reasons, a "PONG" sent in acknowledgment of a software handshaking "PING" looks like an implicit REQ:, and hence like a "command request" sent to the recipient, even though it isn't. It is, however, an exception to the strict messaging protocol, which is why it needs a separate handler.</p>
<p>cmd_pong doesn't do anything except return a #CMD_NOOP (since this "command" must NOT result in a reply back to the sender). In more sophisticated apps, we might actually use receipt of a pong to do something useful (e.g., help build up a node table), so at the very least this module works as a placeholder for future expansion.</p>
<dl class="section user"><dt>Lock Behavior:</dt><dd>PONGs ignore the lock state.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="commands_8c.html#aeb18b9bbb997bd5f8af6ff7992f76cc8" title="PING command - communication handshaking request.">cmd_ping</a> </dd></dl>

<p class="reference">References <a class="el" href="agwServer_8c.html#a05a8c6c4a74edaf6a10b26ec18485ddd">appClient</a>.</p>

</div>
</div>
<a id="af607228109da4f3d3e63e0bc715bf6f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af607228109da4f3d3e63e0bc715bf6f7">&#9670;&nbsp;</a></span>cmd_mmcIC()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmd_mmcIC </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&#160;</td>
          <td class="paramname"><em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>reply</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>MMCIC command - Independent command for PLC interrogation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>string with the command-line arguments </td></tr>
    <tr><td class="paramname">msgtype</td><td>message type if the command was sent as an IMPv2 message </td></tr>
    <tr><td class="paramname">reply</td><td>string to contain the command return reply </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>#CMD_OK</dd></dl>
<dl class="section user"><dt>Usage:</dt><dd>mmcIC</dd></dl>
<p>Creates an IMPv2 message (in the <em>reply</em> string) with information MMCIC allows a way for users or remote apps to interrogate the MicroLynx controller.</p>
<dl class="section user"><dt>Lock Behavior:</dt><dd>MMCIC ignores the lock state. </dd></dl>

<p class="reference">References <a class="el" href="agwServer_8c.html#a846fac061118f26e08912f8c4f10f863">appAGW</a>, <a class="el" href="commands_8c.html#aee9ff4b934d75a8e7d7d460724e54580">cmd_reset()</a>, <a class="el" href="mlc_8c.html#a72fc3193ca7baf4b2b92fc3612e9628c">mlcTechCmd()</a>, <a class="el" href="mlc_8c.html#a5b636f740db1c9123a707e4468d39a3a">sendCommand()</a>, and <a class="el" href="mlc_8c.html#a19644e486affe41a3183db2e0c825add">StrUpper()</a>.</p>

</div>
</div>
<a id="adf609a3a99d816677a46138ec89d67e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf609a3a99d816677a46138ec89d67e8">&#9670;&nbsp;</a></span>cmd_mmccu()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmd_mmccu </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&#160;</td>
          <td class="paramname"><em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>reply</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>MMCCU command - Independent command for PLC interrogation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>string with the command-line arguments </td></tr>
    <tr><td class="paramname">msgtype</td><td>message type if the command was sent as an IMPv2 message </td></tr>
    <tr><td class="paramname">reply</td><td>string to contain the command return reply </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>#CMD_OK</dd></dl>
<dl class="section user"><dt>Usage:</dt><dd>mmccu</dd></dl>
<p>Creates an IMPv2 message (in the <em>reply</em> string) with information MMCCU allows a way for users or remote apps to interrogate the MicroLynx controller.</p>
<dl class="section user"><dt>Lock Behavior:</dt><dd>MMCCU ignores the lock state. </dd></dl>

<p class="reference">References <a class="el" href="agwServer_8c.html#a846fac061118f26e08912f8c4f10f863">appAGW</a>, and <a class="el" href="mlc_8c.html#a1d034619776a6bad8728b24b7f6d6eb9">rawCommand()</a>.</p>

</div>
</div>
<a id="a7b7e22a2df8f577f559fdb6df89fb15a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b7e22a2df8f577f559fdb6df89fb15a">&#9670;&nbsp;</a></span>cmd_version()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmd_version </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&#160;</td>
          <td class="paramname"><em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>reply</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>VERSION command - report application version and compilation info. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>string with the command-line arguments </td></tr>
    <tr><td class="paramname">msgtype</td><td>message type if the command was sent as an IMPv2 message </td></tr>
    <tr><td class="paramname">reply</td><td>string to contain the command return reply </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>#CMD_OK</dd></dl>
<dl class="section user"><dt>Usage:</dt><dd>version</dd></dl>
<p>Creates an IMPv2 message (in the <em>reply</em> string) with the version number and any relevant compilation information (e.g., date and time of compilation). VERSION allows a way for users or remote apps to verify the runtime version of the current application.</p>
<p>Example output: </p><pre>
Version=v1.0 CompileDate=2004-Jun-11 CompileTime=17:08:15
</pre><dl class="section user"><dt>Lock Behavior:</dt><dd>VERSION ignores the lock state. </dd></dl>

</div>
</div>
<a id="aefdcd23f71a5af34669b8f81c4f105ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefdcd23f71a5af34669b8f81c4f105ef">&#9670;&nbsp;</a></span>cmd_verbose()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmd_verbose </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&#160;</td>
          <td class="paramname"><em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>reply</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>VERBOSE command - toggle verbose console output on/off. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>string with the command-line arguments </td></tr>
    <tr><td class="paramname">msgtype</td><td>message type if the command was sent as an IMPv2 message </td></tr>
    <tr><td class="paramname">reply</td><td>string to contain the command return reply </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>#CMD_OK</dd></dl>
<dl class="section user"><dt>Usage:</dt><dd>verbose</dd></dl>
<p>Sets the client isVerbose flag to 1 (enabled) if currently 0 (disabled) and vis-versa. Verbose output mode is used for basic client debugging information by printing extra information on the application console screen. Disabling throttles verbose console output. VERBOSE mode is normally disabled during normal operations.</p>
<p>In general "Verbose" output refers only to client application level output (i.e., echoing socket message traffic, printing status update info, etc.). An more chatty DEBUG mode is provided that prints more engineering-level info for detailed low-level system debugging.</p>
<dl class="section user"><dt>Lock Behavior:</dt><dd>VERBOSE ignores the lock state.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="commands_8c.html#a48cc18e5e4178f3383a67c557680bd1e" title="DEBUG command - toggle debugging (super-verbose) console output on/off.">cmd_debug</a> </dd></dl>

<p class="reference">References <a class="el" href="agwServer_8c.html#a05a8c6c4a74edaf6a10b26ec18485ddd">appClient</a>.</p>

</div>
</div>
<a id="a48cc18e5e4178f3383a67c557680bd1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48cc18e5e4178f3383a67c557680bd1e">&#9670;&nbsp;</a></span>cmd_debug()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmd_debug </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&#160;</td>
          <td class="paramname"><em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>reply</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>DEBUG command - toggle debugging (super-verbose) console output on/off. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>string with the command-line arguments </td></tr>
    <tr><td class="paramname">msgtype</td><td>message type if the command was sent as an IMPv2 message </td></tr>
    <tr><td class="paramname">reply</td><td>string to contain the command return reply </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>#CMD_OK</dd></dl>
<dl class="section user"><dt>Usage:</dt><dd>debug</dd></dl>
<p>Sets the client Debug flag to 1 (enabled) if currently 0 (disabled) and vis-versa. <br  />
</p>
<p>DEBUG mode is a super-verbose mode that spews lots of I/O chatter onto the application console, useful during client debugging or for troubleshooting. For example, in client applications that control stepper motors, the full motor control chatter is echoed to the console during DEBUG mode to enable the user to follow the steps the system is (or is not) taking, watch encoder and limit switches assert (or not), etc. DEBUG is normally disabled during normal user operations.</p>
<dl class="section user"><dt>Lock Behavior:</dt><dd>DEBUG ignores the lock state.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="commands_8c.html#aefdcd23f71a5af34669b8f81c4f105ef" title="VERBOSE command - toggle verbose console output on/off.">cmd_verbose</a> </dd></dl>

<p class="reference">References <a class="el" href="agwServer_8c.html#a05a8c6c4a74edaf6a10b26ec18485ddd">appClient</a>.</p>

</div>
</div>
<a id="a55e13dc821a12cf5924f690f0e3402dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55e13dc821a12cf5924f690f0e3402dc">&#9670;&nbsp;</a></span>cmd_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmd_info </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&#160;</td>
          <td class="paramname"><em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>reply</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>INFO command - report client application runtime information. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>string with the command-line arguments </td></tr>
    <tr><td class="paramname">msgtype</td><td>message type if the command was sent as an IMPv2 message </td></tr>
    <tr><td class="paramname">reply</td><td>string to contain the command return reply </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>#CMD_OK on successful creation of the info report, #CMD_ERR if errors encountered.</dd></dl>
<dl class="section user"><dt>Usage:</dt><dd>info</dd></dl>
<p>Creates a summary report of the current client application's runtime configuration as an IMPv2-compliant message string in which the runtime parameters are reported as keyword=value pairs.</p>
<p>The format of cmd_info should be tailored specifically for the particular client application. If a client controls specific instrument or interface functions, the state of those functions should be reported in the info string, making it an omnibus "what is your
  status" command.</p>
<p>Example Output: </p><pre>
HostID=AGW1 HostAddr=darkstar:10702 Mode=STANDALONE Verbose -DEBUG rcfile=agw1.ini
  </pre><dl class="section user"><dt>Lock Behavior:</dt><dd>INFO ignores the lock state, except to report it. </dd></dl>

<p class="reference">References <a class="el" href="agwServer_8c.html#a846fac061118f26e08912f8c4f10f863">appAGW</a>, and <a class="el" href="agwServer_8c.html#a05a8c6c4a74edaf6a10b26ec18485ddd">appClient</a>.</p>

</div>
</div>
<a id="a357eae20439e1160684cd0dc55568fbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a357eae20439e1160684cd0dc55568fbe">&#9670;&nbsp;</a></span>cmd_help()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmd_help </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&#160;</td>
          <td class="paramname"><em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>reply</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>HELP command - print a list of commands on the client console. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>string with the command-line arguments </td></tr>
    <tr><td class="paramname">msgtype</td><td>message type if the command was sent as an IMPv2 message </td></tr>
    <tr><td class="paramname">reply</td><td>string to contain the command return reply </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>#CMD_NOOP on success, #CMD_ERR if help executed as a non-EXEC: command</dd></dl>
<dl class="section user"><dt>Usage:</dt><dd>help [cmd]</dd></dl>
<p>cmd_help is usually invoked by the HELP or ? commands. It prints a list of all interactive commands on the client application's console screen. It is only meant to be executed as an EXEC: message type. If the command is not qualifed as EXEC:, it returns an error.</p>
<p>If an argument is given, it tries to find that string in the command list, and if successful, prints a brief description and usage message.</p>
<p>Help is meant to be simple. It can give help on particular commands (really a reminder of the command's function and syntax), or a list of all commands.</p>
<dl class="section user"><dt>Lock Behavior:</dt><dd>HELP ignores the lock state. </dd></dl>

<p class="reference">References <a class="el" href="mlc_8c.html#a5dc5da1f6c3241b574905e6a7e2d9a83">argbuf</a>.</p>

</div>
</div>
<a id="a988676be3580ed43836e1a40f32f17e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a988676be3580ed43836e1a40f32f17e7">&#9670;&nbsp;</a></span>cmd_status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmd_status </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&#160;</td>
          <td class="paramname"><em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>reply</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>STATUS command - query AGW stage status. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>string with the command-line arguments </td></tr>
    <tr><td class="paramname">msgtype</td><td>message type if the command was sent as an IMPv2 message </td></tr>
    <tr><td class="paramname">reply</td><td>string to contain the command return reply </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>#CMD_OK on success, #CMD_ERR if errors occurred, reply contains an error message.</dd></dl>
<dl class="section user"><dt>Usage:</dt><dd>status</dd></dl>
<dl class="section user"><dt>Alias:</dt><dd>getdata</dd></dl>
<p>Queries the AGW stage for the current system status, returning all relevant data to the calling host. getdata is defined as an alias for GCS compatibility.</p>
<p>Returns the parameters as keyword=value pairs ready to be inserted into a FITS header template.</p>
<dl class="section user"><dt>Lock Behavior:</dt><dd>STATUS ignores the lock state and always responds to query requests. </dd></dl>

<p class="reference">References <a class="el" href="agwServer_8c.html#a846fac061118f26e08912f8c4f10f863">appAGW</a>.</p>

</div>
</div>
<a id="aca451e1e42ff698bf35d038ecd950867"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca451e1e42ff698bf35d038ecd950867">&#9670;&nbsp;</a></span>cmd_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmd_open </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&#160;</td>
          <td class="paramname"><em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>reply</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>OPEN command - open all or 1 comm port. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>string with the command-line arguments </td></tr>
    <tr><td class="paramname">msgtype</td><td>message type if the command was sent as an IMPv2 message </td></tr>
    <tr><td class="paramname">reply</td><td>string to contain the command return reply </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>#CMD_OK on success, #CMD_ERR if errors occurred, reply contains an error message.</dd></dl>
<dl class="section user"><dt>Usage:</dt><dd>open [n|all]</dd></dl>
<p>Opens all or a named comm port. </p>

<p class="reference">References <a class="el" href="mlc_8c.html#a5dc5da1f6c3241b574905e6a7e2d9a83">argbuf</a>, <a class="el" href="commands_8c.html#ab7677647417893fc582bd50641a6cc3a">commandID</a>, <a class="el" href="mlc_8c.html#ae41c200d3069e250a3d71608e5bf0c14">getMechanismID()</a>, and <a class="el" href="mlc_8c.html#a19644e486affe41a3183db2e0c825add">StrUpper()</a>.</p>

</div>
</div>
<a id="a2730d9b180c5cb860aa739f4780c101b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2730d9b180c5cb860aa739f4780c101b">&#9670;&nbsp;</a></span>cmd_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmd_close </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&#160;</td>
          <td class="paramname"><em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>reply</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>CLOSE command - close a comm port re-initialize the microstep drive. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>string with the command-line arguments </td></tr>
    <tr><td class="paramname">msgtype</td><td>message type if the command was sent as an IMPv2 message </td></tr>
    <tr><td class="paramname">reply</td><td>string to contain the command return reply </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>#CMD_OK on success, #CMD_ERR if errors occurred, reply contains an error message.</dd></dl>
<p>( </p><dl class="section user"><dt>Usage:</dt><dd>close port</dd></dl>
<p>Closes a named comm port. </p>

<p class="reference">References <a class="el" href="mlc_8c.html#a5dc5da1f6c3241b574905e6a7e2d9a83">argbuf</a>, <a class="el" href="commands_8c.html#ab7677647417893fc582bd50641a6cc3a">commandID</a>, <a class="el" href="mlc_8c.html#ae41c200d3069e250a3d71608e5bf0c14">getMechanismID()</a>, and <a class="el" href="mlc_8c.html#a19644e486affe41a3183db2e0c825add">StrUpper()</a>.</p>

</div>
</div>
<a id="aee9ff4b934d75a8e7d7d460724e54580"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee9ff4b934d75a8e7d7d460724e54580">&#9670;&nbsp;</a></span>cmd_reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmd_reset </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&#160;</td>
          <td class="paramname"><em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>reply</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>RESET command - reload the runtime config paramters and re-initialize the AGW stage parameters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>string with the command-line arguments </td></tr>
    <tr><td class="paramname">msgtype</td><td>message type if the command was sent as an IMPv2 message </td></tr>
    <tr><td class="paramname">reply</td><td>string to contain the command return reply </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>#CMD_OK on success, #CMD_ERR if errors occurred, reply contains an error message.</dd></dl>
<dl class="section user"><dt>Usage:</dt><dd>reset</dd></dl>
<p>Calls loadconfig() to re-read the runtime config file, restoring all initial client parameters, then resets the AGW stage.</p>
<p>This provides the client application with a warm restart facility.</p>
<dl class="section user"><dt>Lock Behavior:</dt><dd>If the lock is set, it only permits RESET by the lock holder, or if the RESET was issued as an executive override command (type EXEC:). Note that RESET unlocks the AGW, even if a lock was held before the reset. Any calling process resetting a locked AGW will have to re-assert that lock if required after the reset request completes. </dd></dl>

<p class="reference">References <a class="el" href="agwServer_8c.html#a846fac061118f26e08912f8c4f10f863">appAGW</a>, <a class="el" href="agwutils_8c.html#abcfb6b61ede9530fb677d4bc633bba17">mlcBitsBase10()</a>, and <a class="el" href="mlc_8c.html#a5b636f740db1c9123a707e4468d39a3a">sendCommand()</a>.</p>

<p class="reference">Referenced by <a class="el" href="commands_8c.html#af607228109da4f3d3e63e0bc715bf6f7">cmd_mmcIC()</a>.</p>

</div>
</div>
<a id="a1429620bfd12180699a5cbb00ec49afb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1429620bfd12180699a5cbb00ec49afb">&#9670;&nbsp;</a></span>cmd_filter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmd_filter </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&#160;</td>
          <td class="paramname"><em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>reply</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SETFILTER and GETFILTER commands - set/query the Acquistion/Guide camera filter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>string with the command-line arguments </td></tr>
    <tr><td class="paramname">msgtype</td><td>message type if the command was sent as an IMPv2 message </td></tr>
    <tr><td class="paramname">reply</td><td>string to contain the command return reply </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>#CMD_OK on success, #CMD_ERR if errors occurred, reply contains an error message.</dd></dl>
<dl class="section user"><dt>Usage:</dt><dd>setfilter [1..4]<br  />
 getfilter</dd></dl>
<p>Selects an Acquisition/Guide camera filter (1 thru 4). getfilter returns the current A/G camera filter selection.</p>
<dl class="section user"><dt>Lock Behavior:</dt><dd>Query is permitted regardless of the lock status. Set is only allowed by the lockHost if the lock is set. </dd></dl>

<p class="reference">References <a class="el" href="agwutils_8c.html#a745289639cbba9a189d5c29c2e535e36">agwIsLocked()</a>, <a class="el" href="agwServer_8c.html#a846fac061118f26e08912f8c4f10f863">appAGW</a>, <a class="el" href="mlc_8c.html#a5dc5da1f6c3241b574905e6a7e2d9a83">argbuf</a>, <a class="el" href="agwutils_8c.html#abcfb6b61ede9530fb677d4bc633bba17">mlcBitsBase10()</a>, <a class="el" href="mlc_8c.html#a1d034619776a6bad8728b24b7f6d6eb9">rawCommand()</a>, and <a class="el" href="mlc_8c.html#ad2995077ad4aadc9fbff34ef462360c6">sendTwoCommand()</a>.</p>

</div>
</div>
<a id="a7344d7ca398862ff787b6fdc16146641"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7344d7ca398862ff787b6fdc16146641">&#9670;&nbsp;</a></span>cmd_xy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmd_xy </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&#160;</td>
          <td class="paramname"><em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>reply</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SETXY/GETXY commands - set/query the AGW stage absolute X,Y position. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>string with the command-line arguments </td></tr>
    <tr><td class="paramname">msgtype</td><td>message type if the command was sent as an IMPv2 message </td></tr>
    <tr><td class="paramname">reply</td><td>string to contain the command return reply </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>#CMD_OK on success, #CMD_ERR if errors occurred, reply contains an error message.</dd></dl>
<dl class="section user"><dt>Usage:</dt><dd>setxy [x y]<br  />
 getxy</dd></dl>
<dl class="section user"><dt>Units:</dt><dd>x,y in millimeters</dd></dl>
<p>Sets the AGW stage guide probe to an absolute X,Y position in millimeters in the AGW coordinate system where (X,Y)=(0,0) is the home (stowed) position of the AGW stage.</p>
<p>If given with no arguments, it reports the current AGW stage position in millimeters. Actual linear resolution is #AGW_XYRES millimeters</p>
<p>User gives the desired guide probe field-center position (XAG,YAG) in millimeters, this routine translates that to the corresponding stage (XS,YS) and focus position corresponding to that field center</p>
<p>If AutoFocus is enabled, it computes the nominal autofocus value at the requested position, otherwise it uses the current focus value.</p>
<dl class="section user"><dt>Lock Behavior:</dt><dd>Query is permitted regardless of the lock status. Set is only allowed by the lockHost if the lock is set.</dd></dl>
<dl class="section see"><dt>See also</dt><dd>cmd_dxy, <a class="el" href="commands_8c.html#ae9ef1b5fbf25715cc45fc7906b05f615" title="HOME command - send the AGW stage to its home (stowed) position.">cmd_home</a> </dd></dl>

<p class="reference">References <a class="el" href="agwutils_8c.html#ad55b6ac0f3b36c823394d57af4fd7c56">agwGetPos()</a>, <a class="el" href="agwutils_8c.html#a745289639cbba9a189d5c29c2e535e36">agwIsLocked()</a>, <a class="el" href="agwServer_8c.html#a846fac061118f26e08912f8c4f10f863">appAGW</a>, <a class="el" href="mlc_8c.html#a5dc5da1f6c3241b574905e6a7e2d9a83">argbuf</a>, <a class="el" href="agwutils_8c.html#a11254e4de6145cd4e6e563ca709d85ea">gpToAGW()</a>, <a class="el" href="agwutils_8c.html#abcfb6b61ede9530fb677d4bc633bba17">mlcBitsBase10()</a>, <a class="el" href="mlc_8c.html#ad6fb1bd667b43fffab5f089b5effd1cc">positionToShrMem()</a>, <a class="el" href="mlc_8c.html#a1d034619776a6bad8728b24b7f6d6eb9">rawCommand()</a>, and <a class="el" href="mlc_8c.html#ad2995077ad4aadc9fbff34ef462360c6">sendTwoCommand()</a>.</p>

</div>
</div>
<a id="ac054c29585178a1cb24aa710ac838389"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac054c29585178a1cb24aa710ac838389">&#9670;&nbsp;</a></span>cmd_focus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmd_focus </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&#160;</td>
          <td class="paramname"><em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>reply</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SETFOCUS/GETFOCUS command - set/QUERY the absolute camera focus in millimeters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>string with the command-line arguments </td></tr>
    <tr><td class="paramname">msgtype</td><td>message type if the command was sent as an IMPv2 message </td></tr>
    <tr><td class="paramname">reply</td><td>string to contain the command return reply </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>#CMD_OK on success, #CMD_ERR if errors occurred, reply contains an error message.</dd></dl>
<dl class="section user"><dt>Usage:</dt><dd>setfocus [f]<br  />
 getfocus</dd></dl>
<dl class="section user"><dt>Units:</dt><dd>f in millimeters, typically to 0.01mm precision, though 0.001mm (1 micron) precision is reported</dd></dl>
<p>setfocus sets the AGW stage focus to +/-f millimeters relative to the nominal best-focus surface. This change is persistent for all subsequent moves. Note that the stage Y-axis actuator will move in reflex to preserve the physical location of the guide-probe field center relative to the instrument focal plane. The range of focus travel permitted is +/- #AGW_DFOCMAX millimeters (e.g., +/-5mm relative to the nominal focus).</p>
<p>getfocus returns the current guide probe focus value in millimeters to 0.001mm precision.</p>
<p>The focus motion is along the Y-axis, so we have to move the camera stage in reflex in the Y-axis direction (dYS = -dFocus) to make sure the probe center doesn't move relative to the MODS science field.</p>
<p>This routine returns 3 values as key=value pairs: AGWFOCUS is the camera focus datum in millimeters, AGWFS is the stage focus actuator position in millimeteres, and AGWFS0 is the nominal focus zero point (AGWFS at science-field center) in millimeters. All are reported to 0.001mm, although note that the AGW stage focus drive motor has a full-step resolution of 0.01mm, so we oversample a full step by a factor of 10.</p>
<dl class="section user"><dt>Lock Behavior:</dt><dd>Query is permitted regardless of the lock status. Set is only allowed by the lockHost if the lock is set. </dd></dl>

<p class="reference">References <a class="el" href="agwutils_8c.html#ad55b6ac0f3b36c823394d57af4fd7c56">agwGetPos()</a>, <a class="el" href="agwutils_8c.html#a745289639cbba9a189d5c29c2e535e36">agwIsLocked()</a>, <a class="el" href="agwServer_8c.html#a846fac061118f26e08912f8c4f10f863">appAGW</a>, <a class="el" href="mlc_8c.html#a5dc5da1f6c3241b574905e6a7e2d9a83">argbuf</a>, <a class="el" href="mlc_8c.html#ad6fb1bd667b43fffab5f089b5effd1cc">positionToShrMem()</a>, <a class="el" href="mlc_8c.html#a1d034619776a6bad8728b24b7f6d6eb9">rawCommand()</a>, and <a class="el" href="mlc_8c.html#ad2995077ad4aadc9fbff34ef462360c6">sendTwoCommand()</a>.</p>

</div>
</div>
<a id="a20fc57396c588a2a263d9e2ea59ed25f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20fc57396c588a2a263d9e2ea59ed25f">&#9670;&nbsp;</a></span>cmd_foffset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmd_foffset </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&#160;</td>
          <td class="paramname"><em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>reply</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>FOCOFFSET command - set/query the focus offset. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>string with the command-line arguments </td></tr>
    <tr><td class="paramname">msgtype</td><td>message type if the command was sent as an IMPv2 message </td></tr>
    <tr><td class="paramname">reply</td><td>string to contain the command return reply </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>#CMD_OK on success, #CMD_ERR if errors occurred, reply contains an error message.</dd></dl>
<dl class="section user"><dt>Usage:</dt><dd>focoffset [df]</dd></dl>
<dl class="section user"><dt>Units:</dt><dd>df in microns</dd></dl>
<p>Sets the focus offset relative to the nominal zero focus value loaded from the runtime configuration file. If given without arguments, it returns the current focus offset value. Setting focoffset 0.0 disables focus offset and restores the runtime default.</p>
<p>The runtime configuration file loads the nominal field center and focus value at field center. If this nominal field-center focus changes, the user can enter a simple +/- offset in microns that will be applied by the autofocus system. In general, if a persistent offset is required of the same value, the runtime configuration file should be updated to change both Focus0 and YCenter to reflect the new nominal focus and Y position at field center.</p>
<dl class="section user"><dt>Lock Behavior:</dt><dd>Query is permitted regardless of the lock status. Set is only allowed by the lockHost if the lock is set.</dd></dl>
<dl class="section see"><dt>See also</dt><dd>anything that moves focus or in x,y </dd></dl>

<p class="reference">References <a class="el" href="agwutils_8c.html#ad55b6ac0f3b36c823394d57af4fd7c56">agwGetPos()</a>, <a class="el" href="agwutils_8c.html#a745289639cbba9a189d5c29c2e535e36">agwIsLocked()</a>, <a class="el" href="agwServer_8c.html#a846fac061118f26e08912f8c4f10f863">appAGW</a>, <a class="el" href="mlc_8c.html#a5dc5da1f6c3241b574905e6a7e2d9a83">argbuf</a>, <a class="el" href="mlc_8c.html#ad6fb1bd667b43fffab5f089b5effd1cc">positionToShrMem()</a>, <a class="el" href="mlc_8c.html#a1d034619776a6bad8728b24b7f6d6eb9">rawCommand()</a>, and <a class="el" href="mlc_8c.html#ad2995077ad4aadc9fbff34ef462360c6">sendTwoCommand()</a>.</p>

</div>
</div>
<a id="a43b886d0c43ad55c74421fa5a29fb212"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43b886d0c43ad55c74421fa5a29fb212">&#9670;&nbsp;</a></span>cmd_autofoc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmd_autofoc </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&#160;</td>
          <td class="paramname"><em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>reply</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>AUTOFOCUS command - set/query the autofocus state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>string with the command-line arguments </td></tr>
    <tr><td class="paramname">msgtype</td><td>message type if the command was sent as an IMPv2 message </td></tr>
    <tr><td class="paramname">reply</td><td>string to contain the command return reply </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>#CMD_OK on success, #CMD_ERR if errors occurred, reply contains an error message.</dd></dl>
<dl class="section user"><dt>Usage:</dt><dd>autofocus [on|off]</dd></dl>
<p>Enables/disables autofocus. If the command is given without arguments, it reports the current autofocus state (enabled/disabled).</p>
<dl class="section user"><dt>Lock Behavior:</dt><dd>Query is permitted regardless of the lock status. Set is only allowed by the lockHost if the lock is set.</dd></dl>
<dl class="section see"><dt>See also</dt><dd>anything that moves focus or in x,y </dd></dl>

<p class="reference">References <a class="el" href="agwutils_8c.html#a745289639cbba9a189d5c29c2e535e36">agwIsLocked()</a>, <a class="el" href="agwServer_8c.html#a846fac061118f26e08912f8c4f10f863">appAGW</a>, and <a class="el" href="mlc_8c.html#a5dc5da1f6c3241b574905e6a7e2d9a83">argbuf</a>.</p>

</div>
</div>
<a id="a33a94b4c1ae07bd8270d4b0e1b633196"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33a94b4c1ae07bd8270d4b0e1b633196">&#9670;&nbsp;</a></span>cmd_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmd_init </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&#160;</td>
          <td class="paramname"><em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>reply</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>INIT command - initialize the AGW stage and filter wheel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>string with the command-line arguments </td></tr>
    <tr><td class="paramname">msgtype</td><td>message type if the command was sent as an IMPv2 message </td></tr>
    <tr><td class="paramname">reply</td><td>string to contain the command return reply </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>#CMD_OK on success, #CMD_ERR if errors occurred, reply contains an error message.</dd></dl>
<dl class="section user"><dt>Usage:</dt><dd>init</dd></dl>
<p>Initializes the AGW X,Y,Focus stage and filter wheel.</p>
<dl class="section user"><dt>Lock Behavior:</dt><dd>Initialization overrides the lock status</dd></dl>
<dl class="section see"><dt>See also</dt><dd>anything that moves focus or in x,y </dd></dl>

<p class="reference">References <a class="el" href="agwServer_8c.html#a846fac061118f26e08912f8c4f10f863">appAGW</a>, <a class="el" href="commands_8c.html#ab7677647417893fc582bd50641a6cc3a">commandID</a>, <a class="el" href="agwutils_8c.html#abcfb6b61ede9530fb677d4bc633bba17">mlcBitsBase10()</a>, <a class="el" href="mlc_8c.html#ad6fb1bd667b43fffab5f089b5effd1cc">positionToShrMem()</a>, <a class="el" href="mlc_8c.html#a1d034619776a6bad8728b24b7f6d6eb9">rawCommand()</a>, <a class="el" href="mlc_8c.html#a5b636f740db1c9123a707e4468d39a3a">sendCommand()</a>, and <a class="el" href="mlc_8c.html#a19644e486affe41a3183db2e0c825add">StrUpper()</a>.</p>

</div>
</div>
<a id="ae9ef1b5fbf25715cc45fc7906b05f615"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9ef1b5fbf25715cc45fc7906b05f615">&#9670;&nbsp;</a></span>cmd_home()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmd_home </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&#160;</td>
          <td class="paramname"><em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>reply</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>HOME command - send the AGW stage to its home (stowed) position. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>string with the command-line arguments </td></tr>
    <tr><td class="paramname">msgtype</td><td>message type if the command was sent as an IMPv2 message </td></tr>
    <tr><td class="paramname">reply</td><td>string to contain the command return reply </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>#CMD_OK on success, #CMD_ERR if errors occurred, reply contains an error message.</dd></dl>
<dl class="section user"><dt>Usage:</dt><dd>home</dd></dl>
<p>Sends the AGW stage to its home position, safely stowed out of the beam, and retracts the pickoff focus arm.</p>
<dl class="section user"><dt>Lock Behavior:</dt><dd>Query is permitted regardless of the lock status. Set is only allowed by the lockHost if the lock is set.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="commands_8c.html#a7344d7ca398862ff787b6fdc16146641" title="SETXY/GETXY commands - set/query the AGW stage absolute X,Y position.">cmd_xy</a> </dd></dl>

<p class="reference">References <a class="el" href="agwutils_8c.html#ad55b6ac0f3b36c823394d57af4fd7c56">agwGetPos()</a>, <a class="el" href="agwutils_8c.html#a745289639cbba9a189d5c29c2e535e36">agwIsLocked()</a>, <a class="el" href="agwServer_8c.html#a846fac061118f26e08912f8c4f10f863">appAGW</a>, <a class="el" href="mlc_8c.html#a5dc5da1f6c3241b574905e6a7e2d9a83">argbuf</a>, <a class="el" href="agwutils_8c.html#abcfb6b61ede9530fb677d4bc633bba17">mlcBitsBase10()</a>, <a class="el" href="mlc_8c.html#ad6fb1bd667b43fffab5f089b5effd1cc">positionToShrMem()</a>, <a class="el" href="mlc_8c.html#a1d034619776a6bad8728b24b7f6d6eb9">rawCommand()</a>, <a class="el" href="mlc_8c.html#a5b636f740db1c9123a707e4468d39a3a">sendCommand()</a>, and <a class="el" href="mlc_8c.html#a19644e486affe41a3183db2e0c825add">StrUpper()</a>.</p>

</div>
</div>
<a id="a6b804b1a84d9e6f235251f3dfac52dbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b804b1a84d9e6f235251f3dfac52dbc">&#9670;&nbsp;</a></span>cmd_agw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmd_agw </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&#160;</td>
          <td class="paramname"><em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>reply</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>agw command - send commands to the AGW stage </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>string with the command-line arguments </td></tr>
    <tr><td class="paramname">msgtype</td><td>message type if the command was sent as an IMPv2 message </td></tr>
    <tr><td class="paramname">reply</td><td>string to contain the command return reply </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>#CMD_OK on success, #CMD_ERR if errors occurred, reply contains an error message.</dd></dl>
<dl class="section user"><dt>Usage:</dt><dd>agw [xpos ypos fpos]</dd></dl>
<p>Sends the AGW stage a raw position safely.</p>
<dl class="section user"><dt>Lock Behavior:</dt><dd>Query is permitted regardless of the lock status. Set is only allowed by the lockHost if the lock is set.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="commands_8c.html#a7344d7ca398862ff787b6fdc16146641" title="SETXY/GETXY commands - set/query the AGW stage absolute X,Y position.">cmd_xy</a> </dd></dl>

<p class="reference">References <a class="el" href="agwServer_8c.html#a846fac061118f26e08912f8c4f10f863">appAGW</a>, <a class="el" href="mlc_8c.html#a5dc5da1f6c3241b574905e6a7e2d9a83">argbuf</a>, <a class="el" href="commands_8c.html#ab7677647417893fc582bd50641a6cc3a">commandID</a>, and <a class="el" href="mlc_8c.html#a19644e486affe41a3183db2e0c825add">StrUpper()</a>.</p>

</div>
</div>
<a id="afad782c4abb40b72bc45da5fed0cdd93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afad782c4abb40b72bc45da5fed0cdd93">&#9670;&nbsp;</a></span>cmd_center()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmd_center </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&#160;</td>
          <td class="paramname"><em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>reply</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>CENTER command - send the AGW stage to the science field center. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>string with the command-line arguments </td></tr>
    <tr><td class="paramname">msgtype</td><td>message type if the command was sent as an IMPv2 message </td></tr>
    <tr><td class="paramname">reply</td><td>string to contain the command return reply </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>#CMD_OK on success, #CMD_ERR if errors occurred, reply contains an error message.</dd></dl>
<dl class="section user"><dt>Usage:</dt><dd>center</dd></dl>
<p>Sends the AGW stage to the center of the science field, defined as guide probe position (0,0).</p>
<dl class="section user"><dt>Lock Behavior: </dt><dd>Query is permitted regardless of the lock status. Set is only allowed by the lockHost if the lock is set.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="commands_8c.html#a7344d7ca398862ff787b6fdc16146641" title="SETXY/GETXY commands - set/query the AGW stage absolute X,Y position.">cmd_xy</a>, <a class="el" href="commands_8c.html#ae9ef1b5fbf25715cc45fc7906b05f615" title="HOME command - send the AGW stage to its home (stowed) position.">cmd_home</a> </dd></dl>

<p class="reference">References <a class="el" href="agwutils_8c.html#ad55b6ac0f3b36c823394d57af4fd7c56">agwGetPos()</a>, <a class="el" href="agwutils_8c.html#a745289639cbba9a189d5c29c2e535e36">agwIsLocked()</a>, <a class="el" href="agwServer_8c.html#a846fac061118f26e08912f8c4f10f863">appAGW</a>, <a class="el" href="mlc_8c.html#a5dc5da1f6c3241b574905e6a7e2d9a83">argbuf</a>, <a class="el" href="agwutils_8c.html#a11254e4de6145cd4e6e563ca709d85ea">gpToAGW()</a>, <a class="el" href="mlc_8c.html#ad6fb1bd667b43fffab5f089b5effd1cc">positionToShrMem()</a>, <a class="el" href="mlc_8c.html#a1d034619776a6bad8728b24b7f6d6eb9">rawCommand()</a>, and <a class="el" href="mlc_8c.html#ad2995077ad4aadc9fbff34ef462360c6">sendTwoCommand()</a>.</p>

</div>
</div>
<a id="adecdb51faeee91e13090221b939fbc20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adecdb51faeee91e13090221b939fbc20">&#9670;&nbsp;</a></span>cmd_calib()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmd_calib </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&#160;</td>
          <td class="paramname"><em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>reply</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>CALIB command - insert or retract a simulated MODS Calibration Tower. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>string with the command-line arguments </td></tr>
    <tr><td class="paramname">msgtype</td><td>message type if the command was sent as an IMPv2 message </td></tr>
    <tr><td class="paramname">reply</td><td>string to contain the command return reply </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>#CMD_OK on success, #CMD_ERR if errors occurred, reply contains an error message.</dd></dl>
<dl class="section user"><dt>Usage:</dt><dd>calib [in|out]</dd></dl>
<p>Simulates insertion or retraction of the MODS Calibration Tower. The calibration tower and the AGW stage occupy the same space in the science field, and could collide. In hardware, there are interlocks to prevent such collisions. Users of the MODS AGW simulator can simulate the behavior of the system with the calibration tower inserted into the beam by typing the "calib in", which will generate the necessary "can't do that..." error messages for your GCS client under test. "calib out" cancels the test, and "calib" without arguments gives the current tower state (in or out).</p>
<p>calib is only an Executive command, and cannot be issued by a remote socket client (unless posed as an executive override command, which is frankly a bit obtuse).</p>
<dl class="section user"><dt>Lock Behavior: </dt><dd>This command ignores the command lock. Note that a GCS client will never issue the calib command. </dd></dl>

<p class="reference">References <a class="el" href="agwServer_8c.html#a846fac061118f26e08912f8c4f10f863">appAGW</a>, and <a class="el" href="mlc_8c.html#a19644e486affe41a3183db2e0c825add">StrUpper()</a>.</p>

</div>
</div>
<a id="ab404c6baedfea5973fededf54f2af254"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab404c6baedfea5973fededf54f2af254">&#9670;&nbsp;</a></span>cmd_lock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmd_lock </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&#160;</td>
          <td class="paramname"><em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>reply</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>LOCK command - assert a command lock on the AGW stage. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>string with the command-line arguments </td></tr>
    <tr><td class="paramname">msgtype</td><td>message type if the command was sent as an IMPv2 message </td></tr>
    <tr><td class="paramname">reply</td><td>string to contain the command return reply </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>#CMD_OK on success, #CMD_ERR if errors occurred, reply contains an error message.</dd></dl>
<dl class="section user"><dt>Usage:</dt><dd>lock</dd></dl>
<p>Assert command-lock on the AGW stage. When the AGW is locked, it means that all subsequent commands will only be accepted from your host ID. This allows a remote host to lock out conflicting moves from other hosts during critical operations.</p>
<p>To release a lock, the host holding the lock must send the UNLOCK command.</p>
<p>If a host requests a lock currently being held by another host, it returns an error, reporting the ID of the host holding the lock.</p>
<dl class="section user"><dt>Lock Behavior:</dt><dd>If lock is set, reports lock status if called by the lockHost, or an error if not with the identity of lockHost reported in the error message. If the lock is not set, the lock is set and the command host is made the lock holder. </dd></dl>

<p class="reference">References <a class="el" href="agwServer_8c.html#a846fac061118f26e08912f8c4f10f863">appAGW</a>.</p>

</div>
</div>
<a id="aca1fe9cde997e0d791ead647990832b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca1fe9cde997e0d791ead647990832b3">&#9670;&nbsp;</a></span>cmd_unlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmd_unlock </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&#160;</td>
          <td class="paramname"><em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>reply</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>UNLOCK command - release a command lock on the AGW stage. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>string with the command-line arguments </td></tr>
    <tr><td class="paramname">msgtype</td><td>message type if the command was sent as an IMPv2 message </td></tr>
    <tr><td class="paramname">reply</td><td>string to contain the command return reply </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>#CMD_OK on success, #CMD_ERR if errors occurred, reply contains an error message.</dd></dl>
<dl class="section user"><dt>Usage:</dt><dd>unlock</dd></dl>
<p>Release a command lock held on the AGW stage. You must be the lock holder to release a lock.</p>
<p>If a host attempts to unlock the AGW but is not the lock holder, it returns an error, reporting the ID of the host holding the lock.</p>
<p>To provide a way to break deadlock situations (e.g., host holding the lock terminates without releasing the lock), if UNLOCK is sent as an EXEC command, it forces the lock to be released.</p>
<dl class="section user"><dt>Lock Behavior: </dt><dd>If lock is not set, it returns immediately with an OK message. If the lock is set, it releases the lock if the caller is the current lock holder, otherwise it reports an error and the lock holder ID. The exception is for executive override, which ignores the lock holder and releases the lock. </dd></dl>

<p class="reference">References <a class="el" href="agwServer_8c.html#a846fac061118f26e08912f8c4f10f863">appAGW</a>.</p>

</div>
</div>
<a id="a9683258ca76ad15446d45def8ffadb17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9683258ca76ad15446d45def8ffadb17">&#9670;&nbsp;</a></span>cmd_driftvec()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmd_driftvec </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&#160;</td>
          <td class="paramname"><em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>reply</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>DRIFTVEC command - Set/query the stage drift vector. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>string with the command-line arguments </td></tr>
    <tr><td class="paramname">msgtype</td><td>message type if the command was sent as an IMPv2 message </td></tr>
    <tr><td class="paramname">reply</td><td>string to contain the command return reply </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>#CMD_OK on success, #CMD_ERR if errors occurred, reply contains an error message.</dd></dl>
<dl class="section user"><dt>Usage:</dt><dd>driftvec [xdot ydot]</dd></dl>
<dl class="section user"><dt>Units:</dt><dd>xdot and ydot in microns/second</dd></dl>
<p>Sets the drift vector rates in X and Y in units of microns/second. This command only sets rates, it does not initiate a drift (see DRIFT).</p>
<p>If given with no arguments, it reports the current drift vector rates.</p>
<p>Note that you cannot set the drift rate while the probe is moving.</p>
<dl class="section user"><dt>Lock Behavior:</dt><dd>Query is permitted regardless of the lock status. Set is only allowed by the lockHost if the lock is set. </dd></dl>

<p class="reference">References <a class="el" href="agwutils_8c.html#a745289639cbba9a189d5c29c2e535e36">agwIsLocked()</a>, <a class="el" href="agwServer_8c.html#a846fac061118f26e08912f8c4f10f863">appAGW</a>, and <a class="el" href="mlc_8c.html#a5dc5da1f6c3241b574905e6a7e2d9a83">argbuf</a>.</p>

</div>
</div>
<a id="ad0b8d9f87ecb2a7dec2e1154b86fc0d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0b8d9f87ecb2a7dec2e1154b86fc0d7">&#9670;&nbsp;</a></span>cmd_drift()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmd_drift </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&#160;</td>
          <td class="paramname"><em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>reply</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>DRIFT command - start/stop/query drift. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>string with the command-line arguments </td></tr>
    <tr><td class="paramname">msgtype</td><td>message type if the command was sent as an IMPv2 message </td></tr>
    <tr><td class="paramname">reply</td><td>string to contain the command return reply </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>#CMD_OK on success, #CMD_ERR if errors occurred, reply contains an error message.</dd></dl>
<dl class="section user"><dt>Usage:</dt><dd>drift [start|stop]</dd></dl>
<p>Turns drift on/off. When enabled, the probe will be driven at the current drift rates (see DRIFTVEC). If DRIFT is given with no arguments, it will return the current drift status (enabled/disabled) and the drift vector rates.</p>
<p>If the drift vector is 0um/sec in both axes, DRIFT START will return an error.</p>
<dl class="section user"><dt>Lock Behavior:</dt><dd>Query is permitted regardless of the lock status. Set is only allowed by the lockHost if the lock is set. </dd></dl>

<p class="reference">References <a class="el" href="agwutils_8c.html#a745289639cbba9a189d5c29c2e535e36">agwIsLocked()</a>, and <a class="el" href="agwServer_8c.html#a846fac061118f26e08912f8c4f10f863">appAGW</a>.</p>

</div>
</div>
<a id="abb666efb00d42bdf6b8d1246c21137bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb666efb00d42bdf6b8d1246c21137bc">&#9670;&nbsp;</a></span>cmd_abort()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmd_abort </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&#160;</td>
          <td class="paramname"><em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>reply</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ABORT command - abort all AGW stage motions and hold position pending further instructions. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>string with the command-line arguments </td></tr>
    <tr><td class="paramname">msgtype</td><td>message type if the command was sent as an IMPv2 message </td></tr>
    <tr><td class="paramname">reply</td><td>string to contain the command return reply </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>#CMD_OK on success, #CMD_ERR if errors occurred, reply contains an error message.</dd></dl>
<dl class="section user"><dt>Usage:</dt><dd>abort</dd></dl>
<p>Immediately stops all AGW stage motions and holds the current position (sets the brakes). The AGW stage then idles waiting for further instructions.</p>
<dl class="section user"><dt>Lock Behavior:</dt><dd>ABORT does not check the lock status, this allows anybody to hit the panic button and override any lock status that might be enabled. On ABORT, the lock is released. </dd></dl>

<p class="reference">References <a class="el" href="agwServer_8c.html#a846fac061118f26e08912f8c4f10f863">appAGW</a>, and <a class="el" href="mlc_8c.html#a5b636f740db1c9123a707e4468d39a3a">sendCommand()</a>.</p>

</div>
</div>
<a id="a8d1221a3a5afcbf2b18a5c4da66a3f84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d1221a3a5afcbf2b18a5c4da66a3f84">&#9670;&nbsp;</a></span>cmd_setpos()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmd_setpos </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&#160;</td>
          <td class="paramname"><em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>reply</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>setposition commands - sets single-axis position </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>string with the command-line arguments </td></tr>
    <tr><td class="paramname">msgtype</td><td>message type if the command was sent as an IMPv2 message </td></tr>
    <tr><td class="paramname">reply</td><td>string to contain the command return reply </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>#CMD_OK on success, #CMD_ERR if errors occurred, reply contains an error message.</dd></dl>
<dl class="section user"><dt>Usage:</dt><dd>setposition [x|y|focus|filter] pos</dd></dl>
<dl class="section user"><dt>Units:</dt><dd>x, y, and focus in millimeters</dd></dl>
<p>setposition sets the named axis to the requested position. Units are millimeters from home for x, y, focus, and valid device position for filter.</p>
<p>Note that unlike other moves, this is very low level and does not update the derived quantities in the appAGW data struture.</p>
<dl class="section user"><dt>Lock Behavior:</dt><dd>setposition checks the lock status, and only allows motion by the current lock holder.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="commands_8c.html#af135627181e5fb68c2cc30fb891bd6c4" title="getposition commands - get single-axis raw device positions">cmd_getpos</a> </dd></dl>

<p class="reference">References <a class="el" href="agwutils_8c.html#a745289639cbba9a189d5c29c2e535e36">agwIsLocked()</a>, <a class="el" href="agwServer_8c.html#a846fac061118f26e08912f8c4f10f863">appAGW</a>, <a class="el" href="agwutils_8c.html#abcfb6b61ede9530fb677d4bc633bba17">mlcBitsBase10()</a>, <a class="el" href="mlc_8c.html#ad6fb1bd667b43fffab5f089b5effd1cc">positionToShrMem()</a>, <a class="el" href="mlc_8c.html#a1d034619776a6bad8728b24b7f6d6eb9">rawCommand()</a>, and <a class="el" href="mlc_8c.html#ad2995077ad4aadc9fbff34ef462360c6">sendTwoCommand()</a>.</p>

</div>
</div>
<a id="af135627181e5fb68c2cc30fb891bd6c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af135627181e5fb68c2cc30fb891bd6c4">&#9670;&nbsp;</a></span>cmd_getpos()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmd_getpos </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&#160;</td>
          <td class="paramname"><em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>reply</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>getposition commands - get single-axis raw device positions </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>string with the command-line arguments </td></tr>
    <tr><td class="paramname">msgtype</td><td>message type if the command was sent as an IMPv2 message </td></tr>
    <tr><td class="paramname">reply</td><td>string to contain the command return reply </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>#CMD_OK on success, #CMD_ERR if errors occurred, reply contains an error message.</dd></dl>
<dl class="section user"><dt>Usage:</dt><dd>getposition [x|y|focus|filter]</dd></dl>
<dl class="section user"><dt>Units:</dt><dd>x, y, and focus in millimeters to 0.001mm (1 micron) precision</dd></dl>
<p>Low-level engineering command to query the requested mechanism controller for its current position. Positions are returned in units of millimeters for linear mechanisms (Xs, Ys, and Focus), or index (Filter). Values are rounded to the nearest micron (0.001mm).</p>
<p>Note that this routine only queries and returns data, it does not update the appAGW data structure, use getxy etc. for that.</p>
<dl class="section user"><dt>Lock Behavior: </dt><dd></dd></dl>
<p>getposition allows anyone to query regardless of the lock status.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="commands_8c.html#a8d1221a3a5afcbf2b18a5c4da66a3f84" title="setposition commands - sets single-axis position">cmd_setpos</a> </dd></dl>

<p class="reference">References <a class="el" href="agwServer_8c.html#a846fac061118f26e08912f8c4f10f863">appAGW</a>, <a class="el" href="agwutils_8c.html#abcfb6b61ede9530fb677d4bc633bba17">mlcBitsBase10()</a>, and <a class="el" href="mlc_8c.html#ad6fb1bd667b43fffab5f089b5effd1cc">positionToShrMem()</a>.</p>

</div>
</div>
<a id="a7788632123c27ff024ab982cbb89517c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7788632123c27ff024ab982cbb89517c">&#9670;&nbsp;</a></span>cmd_ccdAgwSfp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmd_ccdAgwSfp </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&#160;</td>
          <td class="paramname"><em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>reply</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">References <a class="el" href="agwServer_8c.html#a846fac061118f26e08912f8c4f10f863">appAGW</a>, <a class="el" href="agwServer_8c.html#a05a8c6c4a74edaf6a10b26ec18485ddd">appClient</a>, <a class="el" href="commands_8c.html#ab7677647417893fc582bd50641a6cc3a">commandID</a>, <a class="el" href="loadconfig_8c.html#a467636df2b3c34a333a8c9a73ddc4fd0">LoadConfig()</a>, and <a class="el" href="mlc_8c.html#a19644e486affe41a3183db2e0c825add">StrUpper()</a>.</p>

</div>
</div>
<a id="ae61f3ec35bd27160c23572589142bbd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae61f3ec35bd27160c23572589142bbd8">&#9670;&nbsp;</a></span>SFPtoAGWgeneric()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SFPtoAGWgeneric </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&#160;</td>
          <td class="paramname"><em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>reply</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a0f70c1f81eb6dedfeb6eb5b428ea55c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f70c1f81eb6dedfeb6eb5b428ea55c5">&#9670;&nbsp;</a></span>AGWgenericToSFP()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AGWgenericToSFP </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&#160;</td>
          <td class="paramname"><em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>reply</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aec4bfafeadd411ad56cef99f28ea0286"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec4bfafeadd411ad56cef99f28ea0286">&#9670;&nbsp;</a></span>SFPToCCDgeneric()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SFPToCCDgeneric </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&#160;</td>
          <td class="paramname"><em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>reply</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="adbea7a4e07a1f42d677c1240a07bec81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbea7a4e07a1f42d677c1240a07bec81">&#9670;&nbsp;</a></span>CCDgenericToSFP()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CCDgenericToSFP </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&#160;</td>
          <td class="paramname"><em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>reply</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6bb767200a73d0943b0bb4c17803ada6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bb767200a73d0943b0bb4c17803ada6">&#9670;&nbsp;</a></span>GCSCommand()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GCSCommand </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>agw_reply</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process a command from the GCS client's. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">line</td><td>string with the GCS request </td></tr>
    <tr><td class="paramname">agw_reply</td><td>reply string</td></tr>
  </table>
  </dd>
</dl>
<p>This function is setup as a callback for islServer(). This gives the client application's information for the GCS/TCS.</p>
<p>This function parses the interactive command line and calls the appropriate low-level cmd_xxx() command action functions for excuting most commands.</p>
<p>All keyboard commands are treated as EXEC: type IMPv2 messages. The downstream cmd_xxx() action functions come from a remote GCS application. </p>

<p class="reference">References <a class="el" href="commands_8c.html#ab7677647417893fc582bd50641a6cc3a">commandID</a>, and <a class="el" href="agwServer_8c.html#a8b91c82cea5c863a0f1038967ae512dd">HandleInt()</a>.</p>

<p class="reference">Referenced by <a class="el" href="agwServer_8c.html#a3dd856836c8915e9bf1309ee031502b4">thread_init_func()</a>.</p>

</div>
</div>
<a id="a42768410389829f6606e229cfb853dc5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42768410389829f6606e229cfb853dc5">&#9670;&nbsp;</a></span>SocketCommand()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SocketCommand </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process a message/command from a remote ISIS server/client application. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>string with the IMPv2 message received from the remote application</td></tr>
  </table>
  </dd>
</dl>
<p>This function parses a message received from a remote ISIS server or client application, and interprets the message. All EXEC: and implicit REQ: type messages are passed to the corresponding cmd_xxx() action functions for handling, while the remaining informational messages are simply echoed to the console screen.</p>
<p>More sophisticated handlers might pass such messages on to parsers/handlers of their own if the inputs were actually used for something other than "visual" information for the user of this application.</p>
<p>All messages received from an ISIS node are assumed to be in the proper IMPv2 messaging syntax.</p>
<p>Note that EXEC: is new to IMPv2. It allows remote nodes to transmit protected "executive" commands to clients, giving them access to commands that would otherwise only be available on the console keyboard (e.g., the "quit" command). Thus a remote EXEC: command means "act as if this was typed at the keyboard". It is the responsibility of the remote application to make sure that EXEC: is used with care, as you could do something stupid (though your client application should not allow actions that would be physically unsafe to personnel or equipment).</p>
<dl class="section see"><dt>See also</dt><dd>KeyboardCommand() </dd></dl>

<p class="reference">References <a class="el" href="agwServer_8c.html#a846fac061118f26e08912f8c4f10f863">appAGW</a>, <a class="el" href="agwServer_8c.html#a05a8c6c4a74edaf6a10b26ec18485ddd">appClient</a>, and <a class="el" href="agwServer_8c.html#a633ddd27398d74d8dad43c0fe59b0d51">buf</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ae0b53dfa6d908dfd8560f7470e8e601b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0b53dfa6d908dfd8560f7470e8e601b">&#9670;&nbsp;</a></span>agw</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">agwpar_t agw</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="agwutils_8c.html#ad55b6ac0f3b36c823394d57af4fd7c56">agwGetPos()</a>, <a class="el" href="agwutils_8c.html#a65e247187f3932c11b83dbc1220ca52c">agwInitConfig()</a>, <a class="el" href="agwutils_8c.html#a745289639cbba9a189d5c29c2e535e36">agwIsLocked()</a>, <a class="el" href="agwutils_8c.html#a7aae70ba43d838257df2d6b9b74e525f">agwToGP()</a>, <a class="el" href="agwutils_8c.html#a11254e4de6145cd4e6e563ca709d85ea">gpToAGW()</a>, and <a class="el" href="loadconfig_8c.html#a467636df2b3c34a333a8c9a73ddc4fd0">LoadConfig()</a>.</p>

</div>
</div>
<a id="ab7677647417893fc582bd50641a6cc3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7677647417893fc582bd50641a6cc3a">&#9670;&nbsp;</a></span>commandID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int commandID</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="commands_8c.html#a6b804b1a84d9e6f235251f3dfac52dbc">cmd_agw()</a>, <a class="el" href="commands_8c.html#a7788632123c27ff024ab982cbb89517c">cmd_ccdAgwSfp()</a>, <a class="el" href="commands_8c.html#a2730d9b180c5cb860aa739f4780c101b">cmd_close()</a>, <a class="el" href="commands_8c.html#a33a94b4c1ae07bd8270d4b0e1b633196">cmd_init()</a>, <a class="el" href="commands_8c.html#aca451e1e42ff698bf35d038ecd950867">cmd_open()</a>, and <a class="el" href="commands_8c.html#a6bb767200a73d0943b0bb4c17803ada6">GCSCommand()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
