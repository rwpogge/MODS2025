<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>modsenv - MODS Environmental Sensor Monitor Agent: modsenv - Interactive MODS Enviromental Monitor Agent</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li id="current"><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<h1>modsenv - Interactive MODS Enviromental Monitor Agent</h1>
<p>
<h3 align="center">Version 2.x </h3><dl compact><dt><b>Author:</b></dt><dd>R. Pogge, OSU Astronomy Dept. (<a href="mailto:pogge@astronomy.ohio-state.edu">pogge@astronomy.ohio-state.edu</a>) </dd></dl>
<dl compact><dt><b>Date:</b></dt><dd>2010 June 21</dd></dl>
<h2><a class="anchor" name="Usage">
Usage</a></h2>
Usage: modsenv [rcfile]<p>
Where: <code>rcfile</code> is an optional runtime config file to load.<p>
By default, modsenv uses the runtime config file defined by <a class="el" href="client_8h.html#36c85e58dd18ebfbb78f624d56582e77">DEFAULT_RCFILE</a> in the <a class="el" href="client_8h.html">client.h</a> header.<h2><a class="anchor" name="Introduction">
Introduction</a></h2>
modsenv is an IMPv2 client that directly connects to the WAGO units inside the MODS instrument electronics boxes and reads the temperature and pressure sensors, producing a log of readings.<p>
At present modsenv only reads the sensors operated by the WAGO field-bus controllers as the CCD environmental data are only accessible via the IC interface, which will require a more sophisticated version in the works.<h2><a class="anchor" name="Commands">
Commands</a></h2>
These are the interactive commands for modsenv: <pre>
  quit		 - Terminate the client session
  verbose	 - Toggle verbose output mode on/off
  debug		 - Toggle super-verbose debugging output mode on/off
  history	 - Show the command history (console only)
  info		 - Report client session runtime info
  status	 - Report the client runtime status (alias for info)
  version	 - Report the client version and compilation time
  estatus	 - Report the current MODS environmental sensor status
  cadence	 - Set/Query the monitoring cadence in seconds
  pause		 - Pause monitoring (see RESUME)
  resume	 - Resume monitoring after a PAUSE
  log &lt;enable|disable&gt; - Enable/Disable enviromental sensor data logging
  logging &lt;enable|disable&gt; - Enable/Disable enviromental sensor data logging
  comment &lt;message&gt; - Append a comment to the log
  config	 - Report agent configuration [engineering]
  help &lt;cmd&gt;	 - Help command (alias: ? &lt;cmd&gt;)</pre><p>
<pre>  Command History (console only):
  !!  		 - repeat last command
  !cmd		 - repeat last command matching 'cmd'
  arrow keys for command-line &amp; history editing
  </pre> Note that all commands are <em>case-insensitive</em>.<h2><a class="anchor" name="Config">
Runtime Configuration File</a></h2>
This is a typical runtime config file for the modsenv agent: <div class="fragment"><pre class="fragment">#
# modsenv agent runtime configuration file
#
# OSU Instrument Lab Version for MODS2
#
# R. Pogge, OSU Astronomy Dept.
# pogge@astronomy.ohio-state.edu
# 2013 Feb 21 
#
################################################################

# modsenv's ISIS client info (Host=localhost is implicit)

ID   M2.ENV
Port 10901

# Application Mode: either STANDALONE or ISISclient

#Mode Standalone
Mode ISISclient

# ISIS Server Info - only releveant if Mode=ISISclient

ISISID   IS
ISISHost 172.16.1.94
ISISPort 6600

# Environmental Monitor Parameters

InstID MODS2
UseTTY N
Cadence 60
DataLog /home/MODS/Logs/Env/mods2
IUB     172.16.1.69
IEB_R   172.16.1.60
IEB_B   172.16.1.35
LLB     172.16.1.59

#NoLog

# Runtime flags 

VERBOSE
#debug
</pre></div><p>
Note that all parameter names are <em>case-insensitive</em>.<p>
modsenv is normally run as a background task with the command-line interface disabled (<code>UseTTY N</code>), but in engineering situations the interactive command utility is enabled by setting <code>UseTTY Y</code>.<p>
A sampling cadence of 60 seconds is typical. The default cadence is set in the modsenv.ini file, but can be changed during a session with the <code>cadence</code> command. Note that changes to these parameters made during a session are not saved for future sessions, and restarting modsenv would restore the defaults in the modsenv.ini file.<h2><a class="anchor" name="Notes">
Notes</a></h2>
This application uses the ISISclient library for UDP socket communications and IMPv2 message processing and creation.<h2><a class="anchor" name="Mods">
Modification History</a></h2>
<pre>
2010 Jun 21 - new client application
2010 Dec 15 - introduced UseTTY for non-interactive (background)
              operation [rwp/osu]
</pre> <hr size="1"><address style="align: right;"><small>Generated on 15 Aug 2013 for modsenv - MODS Environmental Sensor Monitor Agent by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
