<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>modsenv - MODS Environmental Sensor Monitor Agent: commands.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<h1>commands.c File Reference</h1>modsenv Client application command interpreter functions. <a href="#_details">More...</a>
<p>
<code>#include &quot;<a class="el" href="client_8h-source.html">client.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="commands_8h-source.html">commands.h</a>&quot;</code><br>
<code>#include &lt;readline/readline.h&gt;</code><br>
<code>#include &lt;readline/history.h&gt;</code><br>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#a1cb10f66c38a2a44c00b595d616fc75">cmd_quit</a> (char *args, MsgType msgtype, char *reply)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">QUIT command - terminate the client session.  <a href="#a1cb10f66c38a2a44c00b595d616fc75"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#eb18b9bbb997bd5f8af6ff7992f76cc8">cmd_ping</a> (char *args, MsgType msgtype, char *reply)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">PING command - communication handshaking request.  <a href="#eb18b9bbb997bd5f8af6ff7992f76cc8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#25bc932ab16b3b0e789181a71b504482">cmd_pong</a> (char *args, MsgType msgtype, char *reply)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">PONG command - communication handshaking acknowledgment.  <a href="#25bc932ab16b3b0e789181a71b504482"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#7b7e22a2df8f577f559fdb6df89fb15a">cmd_version</a> (char *args, MsgType msgtype, char *reply)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">VERSION command - report application version and compilation info.  <a href="#7b7e22a2df8f577f559fdb6df89fb15a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#efdcd23f71a5af34669b8f81c4f105ef">cmd_verbose</a> (char *args, MsgType msgtype, char *reply)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">VERBOSE command - toggle verbose console output on/off.  <a href="#efdcd23f71a5af34669b8f81c4f105ef"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#48cc18e5e4178f3383a67c557680bd1e">cmd_debug</a> (char *args, MsgType msgtype, char *reply)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">DEBUG command - toggle debugging (super-verbose) console output on/off.  <a href="#48cc18e5e4178f3383a67c557680bd1e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#55e13dc821a12cf5924f690f0e3402dc">cmd_info</a> (char *args, MsgType msgtype, char *reply)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">INFO command - report client application runtime information.  <a href="#55e13dc821a12cf5924f690f0e3402dc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#357eae20439e1160684cd0dc55568fbe">cmd_help</a> (char *args, MsgType msgtype, char *reply)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">HELP command - print a list of commands on the client console.  <a href="#357eae20439e1160684cd0dc55568fbe"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#83a648f52b54a2945f4e0450cd418e02">cmd_history</a> (char *args, MsgType msgtype, char *reply)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">HISTORY command - show the application's interactive command history.  <a href="#83a648f52b54a2945f4e0450cd418e02"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#d0d36a9bb3749cb33006382e060bdd95">cmd_cadence</a> (char *args, MsgType msgtype, char *reply)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">cadence - set/query the enviromental sensor sampling cadence  <a href="#d0d36a9bb3749cb33006382e060bdd95"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#1b1cf7de5505b929f08dbc6ab1aca7de">cmd_pause</a> (char *args, MsgType msgtype, char *reply)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">pause - pause monitoring  <a href="#1b1cf7de5505b929f08dbc6ab1aca7de"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#ec86a856ae686fbe4f4d2b075ed6486f">cmd_resume</a> (char *args, MsgType msgtype, char *reply)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">resume - resume monitoring  <a href="#ec86a856ae686fbe4f4d2b075ed6486f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#2f702ae5479f05b5692f4a00c3d97118">cmd_estatus</a> (char *args, MsgType msgtype, char *reply)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">estatus command - read the enviromental sensors return the data  <a href="#2f702ae5479f05b5692f4a00c3d97118"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#41d0925f4aac32db0562b5702e5bf29e">cmd_pstatus</a> (char *args, MsgType msgtype, char *reply)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">pstatus command - read the instrument AC power status  <a href="#41d0925f4aac32db0562b5702e5bf29e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#f55042082faa5f33bed3c05d08747c79">cmd_config</a> (char *args, MsgType msgtype, char *reply)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">CONFIG command - report the agent configuration [engineering].  <a href="#f55042082faa5f33bed3c05d08747c79"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#ae0d573e9e9cbd7b6bbf5c5a9b39fee8">cmd_logging</a> (char *args, MsgType msgtype, char *reply)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">log command - enable/disable data logging  <a href="#ae0d573e9e9cbd7b6bbf5c5a9b39fee8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#12ff5d649637f71e855f5f32177ba727">cmd_comment</a> (char *args, MsgType msgtype, char *reply)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">comment command - append a comment to the environmental log  <a href="#12ff5d649637f71e855f5f32177ba727"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#edab2a0d280548522e7a1bab5604f1ef">KeyboardCommand</a> (char *line)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Process a command from the client's console keyboard.  <a href="#edab2a0d280548522e7a1bab5604f1ef"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="commands_8c.html#42768410389829f6606e229cfb853dc5">SocketCommand</a> (char *buf)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Process a message/command from a remote ISIS server/client application.  <a href="#42768410389829f6606e229cfb853dc5"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
modsenv Client application command interpreter functions. 
<p>
This module contains the command "action" functions called to service modsenv client commands. These consist of a suite of<ul>
<li>"common" client action functions common to most ISIS clients</li>
<li>client-specific functions that perform the client's particular tasks </li>
<li>common interface routines for keyboard and ISIS socket interfaces.</li>
</ul>
The common client commands include the following:<p>
These 3 commands are <b>REQUIRED</b> of all ISIS client apps: <ul>
<li><code><a class="el" href="commands_8c.html#a1cb10f66c38a2a44c00b595d616fc75">cmd_quit()</a></code> terminate a client session (QUIT) </li>
<li><code><a class="el" href="commands_8c.html#eb18b9bbb997bd5f8af6ff7992f76cc8">cmd_ping()</a></code> communications handshaking request (PING) from a remote ISIS node </li>
<li><code><a class="el" href="commands_8c.html#25bc932ab16b3b0e789181a71b504482">cmd_pong()</a></code> communications handshaking acknowledgment (PONG) from a remote ISIS node</li>
</ul>
These client commands are recommended for most apps: <ul>
<li><code><a class="el" href="commands_8c.html#7b7e22a2df8f577f559fdb6df89fb15a">cmd_version()</a></code> Report application version information (VERSION) </li>
<li><code><a class="el" href="commands_8c.html#55e13dc821a12cf5924f690f0e3402dc">cmd_info()</a></code> Report client runtime configuration (INFO, sometimes CONFIG in legacy apps).</li>
</ul>
These are common commands relevant for the CLI, but generally not available to remote ISIS nodes (e.g., they test that the message type is EXEC:): <ul>
<li><code><a class="el" href="commands_8c.html#efdcd23f71a5af34669b8f81c4f105ef">cmd_verbose()</a></code> Toggle verbose output to the client console on/off (VERBOSE) </li>
<li><code><a class="el" href="commands_8c.html#48cc18e5e4178f3383a67c557680bd1e">cmd_debug()</a></code> Toggle debugging (super-verbose) output to console on/off (DEBUG) </li>
<li><code><a class="el" href="commands_8c.html#357eae20439e1160684cd0dc55568fbe">cmd_help()</a></code> List interactive client commands (HELP or ?) </li>
<li><code><a class="el" href="commands_8c.html#83a648f52b54a2945f4e0450cd418e02">cmd_history()</a></code> Print the recent interactive command history (HISTORY)</li>
</ul>
These are then followed by cmd_xxx() action functions that implement the various client tasks.<p>
At the end of this file are the template I/O handlers used by the command interpreter: <ul>
<li><a class="el" href="client_8h.html#2ff2f11a3194329cfd16006b082a7b13">KeyboardCommand()</a> Keyboard command handler (command-line interface) </li>
<li><a class="el" href="client_8h.html#8b715614a65bf83d19dda2fa301d27c2">SocketCommand()</a> Socket command/message handler (client socket interface)</li>
</ul>
<dl compact><dt><b>Author:</b></dt><dd>R. Pogge, OSU Astronomy Dept. (<a href="mailto:pogge@astronomy.ohio-state.edu">pogge@astronomy.ohio-state.edu</a>) </dd></dl>
<dl compact><dt><b>Date:</b></dt><dd>2010 June 21 </dd></dl>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a1cb10f66c38a2a44c00b595d616fc75"></a><!-- doxytag: member="commands.c::cmd_quit" ref="a1cb10f66c38a2a44c00b595d616fc75" args="(char *args, MsgType msgtype, char *reply)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmd_quit           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&nbsp;</td>
          <td class="paramname"> <em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>reply</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
QUIT command - terminate the client session. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>args</em>&nbsp;</td><td>string with the command-line arguments </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msgtype</em>&nbsp;</td><td>message type if the command was sent as an IMPv2 message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>reply</em>&nbsp;</td><td>string to contain the command return reply </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="commands_8h.html#bb50905ce8538a1ee8952ff664a7a865">CMD_OK</a> if command executed without errors, <a class="el" href="commands_8h.html#fadcbe33225bd4df3b3f033a11408785">CMD_ERR</a> if an error occurred. On errors <em>reply</em> contains the error message.</dd></dl>
<dl compact><dt><b>Usage:</b></dt><dd>quit</dd></dl>
Executes the application QUIT command. Only works if msgtype=EXEC, indicating that it is an IMPv2 executive command. This prevents remote applications from prematurely terminating this application by sending a QUIT command unqualified by the EXEC: directive. 
</div>
</div><p>
<a class="anchor" name="eb18b9bbb997bd5f8af6ff7992f76cc8"></a><!-- doxytag: member="commands.c::cmd_ping" ref="eb18b9bbb997bd5f8af6ff7992f76cc8" args="(char *args, MsgType msgtype, char *reply)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmd_ping           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&nbsp;</td>
          <td class="paramname"> <em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>reply</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
PING command - communication handshaking request. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>args</em>&nbsp;</td><td>string with the command-line arguments </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msgtype</em>&nbsp;</td><td>message type if the command was sent as an IMPv2 message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>reply</em>&nbsp;</td><td>string to contain the command return reply </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="commands_8h.html#bb50905ce8538a1ee8952ff664a7a865">CMD_OK</a> if command executed without errors, <a class="el" href="commands_8h.html#fadcbe33225bd4df3b3f033a11408785">CMD_ERR</a> if an error occurred. On errors reply contains the error message.</dd></dl>
This function is invoked when the client application receives a PING from a remote host requesting a communications handshaking reply.<p>
PINGs are actually handled separately in the <a class="el" href="client_8h.html#8b715614a65bf83d19dda2fa301d27c2">SocketCommand()</a> handler (nothing is done by the <a class="el" href="client_8h.html#2ff2f11a3194329cfd16006b082a7b13">KeyboardCommand()</a> handler) because the PONG sent back acknowledging the comm handshaking request is, in effect, a pseudo-command (implicit REQ:), not a "DONE:" response to a command request. This exception to the general messaging syntax has to be handled carefully to prevent problems, especially to ensure backwards compatibility with older IMPv applications.<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="commands_8h.html#5c002b1d1524a2e1c60acfd5577ea032">cmd_pong</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="25bc932ab16b3b0e789181a71b504482"></a><!-- doxytag: member="commands.c::cmd_pong" ref="25bc932ab16b3b0e789181a71b504482" args="(char *args, MsgType msgtype, char *reply)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmd_pong           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&nbsp;</td>
          <td class="paramname"> <em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>reply</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
PONG command - communication handshaking acknowledgment. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>args</em>&nbsp;</td><td>string with the command-line arguments </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msgtype</em>&nbsp;</td><td>message type if the command was sent as an IMPv2 message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>reply</em>&nbsp;</td><td>string to contain the command return reply </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="commands_8h.html#48f8052d105807409b4d6b4c351c66b1">CMD_NOOP</a> since PONG is a no-op pseudo command.</dd></dl>
For historical reasons, a "PONG" sent in acknowledgment of a software handshaking "PING" looks like an implicit REQ:, and hence like a "command request" sent to the recipient, even though it isn't. It is, however, an exception to the strict messaging protocol, which is why it needs a separate handler.<p>
cmd_pong doesn't do anything except return a <a class="el" href="commands_8h.html#48f8052d105807409b4d6b4c351c66b1">CMD_NOOP</a> (since this "command" must NOT result in a reply back to the sender). In more sophisticated apps, we might actually use receipt of a pong to do something useful (e.g., help build up a node table), so at the very least this module works as a placeholder for future expansion.<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="commands_8h.html#066cd74f5803add22d10efcb3d34d5ca">cmd_ping</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="7b7e22a2df8f577f559fdb6df89fb15a"></a><!-- doxytag: member="commands.c::cmd_version" ref="7b7e22a2df8f577f559fdb6df89fb15a" args="(char *args, MsgType msgtype, char *reply)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmd_version           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&nbsp;</td>
          <td class="paramname"> <em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>reply</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
VERSION command - report application version and compilation info. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>args</em>&nbsp;</td><td>string with the command-line arguments </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msgtype</em>&nbsp;</td><td>message type if the command was sent as an IMPv2 message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>reply</em>&nbsp;</td><td>string to contain the command return reply </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="commands_8h.html#bb50905ce8538a1ee8952ff664a7a865">CMD_OK</a></dd></dl>
<dl compact><dt><b>Usage:</b></dt><dd>version</dd></dl>
Creates an IMPv2 message (in the <em>reply</em> string) with the version number and any relevant compilation information (e.g., date and time of compilation). VERSION allows a way for users or remote apps to verify the runtime version of the current application.<p>
Example output: <pre>
  Version=v1.0 CompileDate=2004-Jun-11 CompileTime=17:08:15
  </pre> 
</div>
</div><p>
<a class="anchor" name="efdcd23f71a5af34669b8f81c4f105ef"></a><!-- doxytag: member="commands.c::cmd_verbose" ref="efdcd23f71a5af34669b8f81c4f105ef" args="(char *args, MsgType msgtype, char *reply)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmd_verbose           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&nbsp;</td>
          <td class="paramname"> <em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>reply</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
VERBOSE command - toggle verbose console output on/off. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>args</em>&nbsp;</td><td>string with the command-line arguments </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msgtype</em>&nbsp;</td><td>message type if the command was sent as an IMPv2 message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>reply</em>&nbsp;</td><td>string to contain the command return reply </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="commands_8h.html#bb50905ce8538a1ee8952ff664a7a865">CMD_OK</a></dd></dl>
<dl compact><dt><b>Usage:</b></dt><dd>verbose</dd></dl>
Sets the client isVerbose flag to 1 (enabled) if currently 0 (disabled) and vis-versa. Verbose output mode is used for basic client debugging information by printing extra information on the application console screen. Disabling throttles verbose console output. VERBOSE mode is normally disabled during normal operations.<p>
In general "Verbose" output refers only to client application level output (i.e., echoing socket message traffic, printing status update info, etc.). An more chatty DEBUG mode is provided that prints more engineering-level info for detailed low-level system debugging.<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="commands_8h.html#fba8235e8ab2e784697f06c018c7b041">cmd_debug</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="48cc18e5e4178f3383a67c557680bd1e"></a><!-- doxytag: member="commands.c::cmd_debug" ref="48cc18e5e4178f3383a67c557680bd1e" args="(char *args, MsgType msgtype, char *reply)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmd_debug           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&nbsp;</td>
          <td class="paramname"> <em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>reply</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
DEBUG command - toggle debugging (super-verbose) console output on/off. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>args</em>&nbsp;</td><td>string with the command-line arguments </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msgtype</em>&nbsp;</td><td>message type if the command was sent as an IMPv2 message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>reply</em>&nbsp;</td><td>string to contain the command return reply </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="commands_8h.html#bb50905ce8538a1ee8952ff664a7a865">CMD_OK</a></dd></dl>
<dl compact><dt><b>Usage:</b></dt><dd>debug</dd></dl>
Sets the client Debug flag to 1 (enabled) if currently 0 (disabled) and vis-versa.<p>
DEBUG mode is a super-verbose mode that spews lots of I/O chatter onto the application console, useful during client debugging or for troubleshooting. For example, in client applications that control stepper motors, the full motor control chatter is echoed to the console during DEBUG mode to enable the user to follow the steps the system is (or is not) taking, watch encoder and limit switches assert (or not), etc. DEBUG is normally disabled during normal user operations.<p>
DEBUG may or may not do much depending on the application...<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="commands_8h.html#8bbbbf6642df3191d8229ee0367a066b">cmd_verbose</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="55e13dc821a12cf5924f690f0e3402dc"></a><!-- doxytag: member="commands.c::cmd_info" ref="55e13dc821a12cf5924f690f0e3402dc" args="(char *args, MsgType msgtype, char *reply)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmd_info           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&nbsp;</td>
          <td class="paramname"> <em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>reply</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
INFO command - report client application runtime information. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>args</em>&nbsp;</td><td>string with the command-line arguments </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msgtype</em>&nbsp;</td><td>message type if the command was sent as an IMPv2 message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>reply</em>&nbsp;</td><td>string to contain the command return reply </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="commands_8h.html#bb50905ce8538a1ee8952ff664a7a865">CMD_OK</a> on successful creation of the info report, <a class="el" href="commands_8h.html#fadcbe33225bd4df3b3f033a11408785">CMD_ERR</a> if errors encountered.</dd></dl>
<dl compact><dt><b>Usage:</b></dt><dd>info</dd></dl>
Creates a summary report of the current client application's runtime configuration as an IMPv2-compliant message string in which the runtime parameters are reported as keyword=value pairs.<p>
The format of cmd_info should be tailored specifically for the particular client application. If a client controls specific instrument or interface functions, the state of those functions should be reported in the info string, making it an omnibus "what is your status" command. 
</div>
</div><p>
<a class="anchor" name="357eae20439e1160684cd0dc55568fbe"></a><!-- doxytag: member="commands.c::cmd_help" ref="357eae20439e1160684cd0dc55568fbe" args="(char *args, MsgType msgtype, char *reply)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmd_help           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&nbsp;</td>
          <td class="paramname"> <em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>reply</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
HELP command - print a list of commands on the client console. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>args</em>&nbsp;</td><td>string with the command-line arguments </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msgtype</em>&nbsp;</td><td>message type if the command was sent as an IMPv2 message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>reply</em>&nbsp;</td><td>string to contain the command return reply </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="commands_8h.html#48f8052d105807409b4d6b4c351c66b1">CMD_NOOP</a> on success, <a class="el" href="commands_8h.html#fadcbe33225bd4df3b3f033a11408785">CMD_ERR</a> if help executed as a non-EXEC: command</dd></dl>
<dl compact><dt><b>Usage:</b></dt><dd>help [cmd]</dd></dl>
cmd_help is usually invoked by the HELP or ? commands. It prints a list of all interactive commands on the client application's console screen. It is only meant to be executed as an EXEC: message type. If the command is not qualifed as EXEC:, it returns an error.<p>
If an argument is given, it tries to find that string in the command list, and if successful, prints a brief description and usage message.<p>
Help is meant to be simple. It can give help on particular commands (really a reminder of the command's function and syntax), or a list of all commands. 
</div>
</div><p>
<a class="anchor" name="83a648f52b54a2945f4e0450cd418e02"></a><!-- doxytag: member="commands.c::cmd_history" ref="83a648f52b54a2945f4e0450cd418e02" args="(char *args, MsgType msgtype, char *reply)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmd_history           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&nbsp;</td>
          <td class="paramname"> <em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>reply</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
HISTORY command - show the application's interactive command history. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>args</em>&nbsp;</td><td>string with the command-line arguments </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msgtype</em>&nbsp;</td><td>message type if the command was sent as an IMPv2 message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>reply</em>&nbsp;</td><td>string to contain the command return reply </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="commands_8h.html#48f8052d105807409b4d6b4c351c66b1">CMD_NOOP</a> on success, <a class="el" href="commands_8h.html#fadcbe33225bd4df3b3f033a11408785">CMD_ERR</a> if history executed as a non-EXEC: command</dd></dl>
<dl compact><dt><b>Usage:</b></dt><dd>history</dd></dl>
List the application's interactive command history on the console. The <a class="el" href="client_8h.html#2ff2f11a3194329cfd16006b082a7b13">KeyboardCommand()</a> function uses the GNU readline and history system to record all commands entered. This prints a list of the most recent commands.<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="client_8h.html#2ff2f11a3194329cfd16006b082a7b13">KeyboardCommand()</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="d0d36a9bb3749cb33006382e060bdd95"></a><!-- doxytag: member="commands.c::cmd_cadence" ref="d0d36a9bb3749cb33006382e060bdd95" args="(char *args, MsgType msgtype, char *reply)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmd_cadence           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&nbsp;</td>
          <td class="paramname"> <em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>reply</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
cadence - set/query the enviromental sensor sampling cadence 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>args</em>&nbsp;</td><td>string with the command-line arguments </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msgtype</em>&nbsp;</td><td>message type if the command was sent as an IMPv2 message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>reply</em>&nbsp;</td><td>string to contain the command return reply </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="commands_8h.html#bb50905ce8538a1ee8952ff664a7a865">CMD_OK</a> on success, <a class="el" href="commands_8h.html#fadcbe33225bd4df3b3f033a11408785">CMD_ERR</a> if errors occurred, reply contains an error message.</dd></dl>
<dl compact><dt><b>Usage:</b></dt><dd>cadence [seconds]</dd></dl>
Sets the enviromental sensor sampling cadence in seconds.<p>
If no arguments are given, it reports the current sampling cadence.<p>
If a cadence less than or equal to zero is given, no change occurs. To pause monitoring, use the PAUSE command.<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="commands_8c.html#1b1cf7de5505b929f08dbc6ab1aca7de">cmd_pause()</a>, <a class="el" href="commands_8c.html#ec86a856ae686fbe4f4d2b075ed6486f">cmd_resume()</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="1b1cf7de5505b929f08dbc6ab1aca7de"></a><!-- doxytag: member="commands.c::cmd_pause" ref="1b1cf7de5505b929f08dbc6ab1aca7de" args="(char *args, MsgType msgtype, char *reply)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmd_pause           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&nbsp;</td>
          <td class="paramname"> <em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>reply</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
pause - pause monitoring 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>args</em>&nbsp;</td><td>string with the command-line arguments </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msgtype</em>&nbsp;</td><td>message type if the command was sent as an IMPv2 message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>reply</em>&nbsp;</td><td>string to contain the command return reply </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="commands_8h.html#bb50905ce8538a1ee8952ff664a7a865">CMD_OK</a> on success, <a class="el" href="commands_8h.html#fadcbe33225bd4df3b3f033a11408785">CMD_ERR</a> if errors occurred, reply contains an error message.</dd></dl>
<dl compact><dt><b>Usage:</b></dt><dd>pause</dd></dl>
Pauses monitoring of enviromental sensors. If already paused, the pause continues. To resume monitoring, use the RESUME command.<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="commands_8c.html#ec86a856ae686fbe4f4d2b075ed6486f">cmd_resume()</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="ec86a856ae686fbe4f4d2b075ed6486f"></a><!-- doxytag: member="commands.c::cmd_resume" ref="ec86a856ae686fbe4f4d2b075ed6486f" args="(char *args, MsgType msgtype, char *reply)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmd_resume           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&nbsp;</td>
          <td class="paramname"> <em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>reply</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
resume - resume monitoring 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>args</em>&nbsp;</td><td>string with the command-line arguments </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msgtype</em>&nbsp;</td><td>message type if the command was sent as an IMPv2 message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>reply</em>&nbsp;</td><td>string to contain the command return reply </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="commands_8h.html#bb50905ce8538a1ee8952ff664a7a865">CMD_OK</a> on success, <a class="el" href="commands_8h.html#fadcbe33225bd4df3b3f033a11408785">CMD_ERR</a> if errors occurred, reply contains an error message.</dd></dl>
<dl compact><dt><b>Usage:</b></dt><dd>resume</dd></dl>
Resumes monitoring of enviromental sensors at the current cadence after a PAUSE. If already running, it has no effect.<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="commands_8c.html#1b1cf7de5505b929f08dbc6ab1aca7de">cmd_pause()</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="2f702ae5479f05b5692f4a00c3d97118"></a><!-- doxytag: member="commands.c::cmd_estatus" ref="2f702ae5479f05b5692f4a00c3d97118" args="(char *args, MsgType msgtype, char *reply)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmd_estatus           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&nbsp;</td>
          <td class="paramname"> <em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>reply</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
estatus command - read the enviromental sensors return the data 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>args</em>&nbsp;</td><td>string with the command-line arguments </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msgtype</em>&nbsp;</td><td>message type if the command was sent as an IMPv2 message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>reply</em>&nbsp;</td><td>string to contain the command return reply </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="commands_8h.html#bb50905ce8538a1ee8952ff664a7a865">CMD_OK</a> on success, <a class="el" href="commands_8h.html#fadcbe33225bd4df3b3f033a11408785">CMD_ERR</a> if errors occurred, reply contains an error message.</dd></dl>
<dl compact><dt><b>Usage:</b></dt><dd>estatus</dd></dl>
Reads the instrument's enviromental sensors and returns the values. It also logs the measurements. If a remote host makes a number of estatus queries, it could result in the logs showing a stuttered cadence. A string monitoring cadence is maintained only when the agent is not otherwise occupied handling command requests.<p>
The ESTATUS command ignores the RunState of the agent, so that a remote host can read the environmental sensors even when the monitor is paused. It does, however, obey the logging state, and will not update the log if logging is disabled.<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="commands_8c.html#d0d36a9bb3749cb33006382e060bdd95">cmd_cadence()</a>, <a class="el" href="commands_8c.html#1b1cf7de5505b929f08dbc6ab1aca7de">cmd_pause()</a>, <a class="el" href="commands_8c.html#ec86a856ae686fbe4f4d2b075ed6486f">cmd_resume()</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="41d0925f4aac32db0562b5702e5bf29e"></a><!-- doxytag: member="commands.c::cmd_pstatus" ref="41d0925f4aac32db0562b5702e5bf29e" args="(char *args, MsgType msgtype, char *reply)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmd_pstatus           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&nbsp;</td>
          <td class="paramname"> <em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>reply</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
pstatus command - read the instrument AC power status 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>args</em>&nbsp;</td><td>string with the command-line arguments </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msgtype</em>&nbsp;</td><td>message type if the command was sent as an IMPv2 message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>reply</em>&nbsp;</td><td>string to contain the command return reply </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="commands_8h.html#bb50905ce8538a1ee8952ff664a7a865">CMD_OK</a> on success, <a class="el" href="commands_8h.html#fadcbe33225bd4df3b3f033a11408785">CMD_ERR</a> if errors occurred, reply contains an error message.</dd></dl>
<dl compact><dt><b>Usage:</b></dt><dd>pstatus</dd></dl>
Reads the instrument's AC power control status sensors and returns the current power state of the instrument. This is raw, unfiltered output for diagnostic purposes.<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="commands_8c.html#d0d36a9bb3749cb33006382e060bdd95">cmd_cadence()</a>, <a class="el" href="commands_8c.html#1b1cf7de5505b929f08dbc6ab1aca7de">cmd_pause()</a>, <a class="el" href="commands_8c.html#ec86a856ae686fbe4f4d2b075ed6486f">cmd_resume()</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="f55042082faa5f33bed3c05d08747c79"></a><!-- doxytag: member="commands.c::cmd_config" ref="f55042082faa5f33bed3c05d08747c79" args="(char *args, MsgType msgtype, char *reply)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmd_config           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&nbsp;</td>
          <td class="paramname"> <em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>reply</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
CONFIG command - report the agent configuration [engineering]. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>args</em>&nbsp;</td><td>string with the command-line arguments </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msgtype</em>&nbsp;</td><td>message type if the command was sent as an IMPv2 message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>reply</em>&nbsp;</td><td>string to contain the command return reply </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="commands_8h.html#bb50905ce8538a1ee8952ff664a7a865">CMD_OK</a> on success, <a class="el" href="commands_8h.html#fadcbe33225bd4df3b3f033a11408785">CMD_ERR</a> if errors occurred, reply contains an error message.</dd></dl>
<dl compact><dt><b>Usage:</b></dt><dd>config</dd></dl>
Engineering command that dumps what we know about the current configuration to the console. It is meant for engineering purposes. The remote equivalent is the INFO command.<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="commands_8c.html#55e13dc821a12cf5924f690f0e3402dc">cmd_info()</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="ae0d573e9e9cbd7b6bbf5c5a9b39fee8"></a><!-- doxytag: member="commands.c::cmd_logging" ref="ae0d573e9e9cbd7b6bbf5c5a9b39fee8" args="(char *args, MsgType msgtype, char *reply)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmd_logging           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&nbsp;</td>
          <td class="paramname"> <em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>reply</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
log command - enable/disable data logging 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>args</em>&nbsp;</td><td>string with the command-line arguments </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msgtype</em>&nbsp;</td><td>message type if the command was sent as an IMPv2 message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>reply</em>&nbsp;</td><td>string to contain the command return reply </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="commands_8h.html#bb50905ce8538a1ee8952ff664a7a865">CMD_OK</a> on success, <a class="el" href="commands_8h.html#fadcbe33225bd4df3b3f033a11408785">CMD_ERR</a> if errors occurred, reply contains an error message.</dd></dl>
<dl compact><dt><b>Usage:</b></dt><dd>log [enable|disable]</dd></dl>
Enables or disabled enviromental sensor data logging. If given with no arguments, it reports the current logging state. Note that the logging state does not affect the pause/resume run state of the data monitor.<p>
We recognize ON and OFF as aliases for ENABLE and DISABLE.<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="commands_8c.html#1b1cf7de5505b929f08dbc6ab1aca7de">cmd_pause()</a>, <a class="el" href="commands_8c.html#ec86a856ae686fbe4f4d2b075ed6486f">cmd_resume()</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="12ff5d649637f71e855f5f32177ba727"></a><!-- doxytag: member="commands.c::cmd_comment" ref="12ff5d649637f71e855f5f32177ba727" args="(char *args, MsgType msgtype, char *reply)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmd_comment           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MsgType&nbsp;</td>
          <td class="paramname"> <em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>reply</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
comment command - append a comment to the environmental log 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>args</em>&nbsp;</td><td>string with the command-line arguments </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msgtype</em>&nbsp;</td><td>message type if the command was sent as an IMPv2 message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>reply</em>&nbsp;</td><td>string to contain the command return reply </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="commands_8h.html#bb50905ce8538a1ee8952ff664a7a865">CMD_OK</a> on success, <a class="el" href="commands_8h.html#fadcbe33225bd4df3b3f033a11408785">CMD_ERR</a> if errors occurred, reply contains an error message.</dd></dl>
<dl compact><dt><b>Usage:</b></dt><dd>comment string with comment text</dd></dl>
Appends a comment to the enviromental sensor log. This can be done to tag the log with events that might be of future interest, e.g., changing an instrument parameter. 
</div>
</div><p>
<a class="anchor" name="edab2a0d280548522e7a1bab5604f1ef"></a><!-- doxytag: member="commands.c::KeyboardCommand" ref="edab2a0d280548522e7a1bab5604f1ef" args="(char *line)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KeyboardCommand           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>line</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Process a command from the client's console keyboard. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>line</em>&nbsp;</td><td>string with the keyboard command</td></tr>
  </table>
</dl>
This function is setup as a callback for readline(), the GNU command-line library that provides Emacs-like key bindings for command-line editing, rapid "arrow keys" command history browsing, and convenient command history commands (!, !!, etc.). This gives the client application's command-line interface a look-and-feel familiar to most users of Unix system command shells (e.g., the tcsh shell).<p>
This function parses the interactive command line and calls the appropriate low-level cmd_xxx() command action functions for excuting most commands, as well as servicing "&gt;XX msgtype: command" format raw IMPv2 message sending requests.<p>
Once the parser gets past the main command tree, instead of griping about an unknown command, it assumes that it might be a raw host command and ships it to the port as-is. Syntax errors or unknown commands will result in gripes from the controller, which is the idea at this point.<p>
All keyboard commands are treated as EXEC: type IMPv2 messages. This makes the downstream cmd_xxx() action functions insensitive to whether or not the command came from the keyboard or from a remote ISIS server or client application.<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="client_8h.html#8b715614a65bf83d19dda2fa301d27c2">SocketCommand()</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="42768410389829f6606e229cfb853dc5"></a><!-- doxytag: member="commands.c::SocketCommand" ref="42768410389829f6606e229cfb853dc5" args="(char *buf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SocketCommand           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>buf</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Process a message/command from a remote ISIS server/client application. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buf</em>&nbsp;</td><td>string with the IMPv2 message received from the remote application</td></tr>
  </table>
</dl>
This function parses a message received from a remote ISIS server or client application, and interprets the message. All EXEC: and implicit REQ: type messages are passed to the corresponding cmd_xxx() action functions for handling, while the remaining informational messages are simply echoed to the console screen.<p>
More sophisticated handlers might pass such messages on to parsers/handlers of their own if the inputs were actually used for something other than "visual" information for the user of this application.<p>
All messages received from an ISIS node are assumed to be in the proper IMPv2 messaging syntax.<p>
Note that EXEC: is new to IMPv2. It allows remote nodes to transmit protected "executive" commands to clients, giving them access to commands that would otherwise only be available on the console keyboard (e.g., the "quit" command). Thus a remote EXEC: command means "act as if this was typed at the keyboard". It is the responsibility of the remote application to make sure that EXEC: is used with care, as you could do something stupid (though your client application should not allow actions that would be physically unsafe to personnel or equipment).<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="client_8h.html#2ff2f11a3194329cfd16006b082a7b13">KeyboardCommand()</a> </dd></dl>

</div>
</div><p>
<hr size="1"><address style="align: right;"><small>Generated on 15 Aug 2013 for modsenv - MODS Environmental Sensor Monitor Agent by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
