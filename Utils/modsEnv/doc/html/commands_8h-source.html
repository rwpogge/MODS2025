<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>modsenv - MODS Environmental Sensor Monitor Agent: commands.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<h1>commands.h</h1><a href="commands_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef COMMANDS_H</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define COMMANDS_H</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span>
<a name="l00017"></a>00017 <span class="comment">// Common interactive client commands </span>
<a name="l00018"></a>00018 
<a name="l00019"></a>00019 <span class="keywordtype">int</span> <a class="code" href="commands_8c.html#a1cb10f66c38a2a44c00b595d616fc75">cmd_quit</a>   (<span class="keywordtype">char</span> *, MsgType, <span class="keywordtype">char</span> *); <span class="comment">// quit the application</span>
<a name="l00020"></a>00020 <span class="keywordtype">int</span> <a class="code" href="commands_8c.html#eb18b9bbb997bd5f8af6ff7992f76cc8">cmd_ping</a>   (<span class="keywordtype">char</span> *, MsgType, <span class="keywordtype">char</span> *); <span class="comment">// ping (comm handshake request)</span>
<a name="l00021"></a>00021 <span class="keywordtype">int</span> <a class="code" href="commands_8c.html#25bc932ab16b3b0e789181a71b504482">cmd_pong</a>   (<span class="keywordtype">char</span> *, MsgType, <span class="keywordtype">char</span> *); <span class="comment">// pong (comm handshake acknowledge)</span>
<a name="l00022"></a>00022 <span class="keywordtype">int</span> <a class="code" href="commands_8c.html#55e13dc821a12cf5924f690f0e3402dc">cmd_info</a>   (<span class="keywordtype">char</span> *, MsgType, <span class="keywordtype">char</span> *); <span class="comment">// return application runtime info</span>
<a name="l00023"></a>00023 <span class="keywordtype">int</span> <a class="code" href="commands_8c.html#7b7e22a2df8f577f559fdb6df89fb15a">cmd_version</a>(<span class="keywordtype">char</span> *, MsgType, <span class="keywordtype">char</span> *); <span class="comment">// return version info</span>
<a name="l00024"></a>00024 <span class="keywordtype">int</span> <a class="code" href="commands_8c.html#efdcd23f71a5af34669b8f81c4f105ef">cmd_verbose</a>(<span class="keywordtype">char</span> *, MsgType, <span class="keywordtype">char</span> *); <span class="comment">// toggle verbose mode</span>
<a name="l00025"></a>00025 <span class="keywordtype">int</span> <a class="code" href="commands_8c.html#48cc18e5e4178f3383a67c557680bd1e">cmd_debug</a>  (<span class="keywordtype">char</span> *, MsgType, <span class="keywordtype">char</span> *); <span class="comment">// toggle debug (superverbose) mode</span>
<a name="l00026"></a>00026 <span class="keywordtype">int</span> <a class="code" href="commands_8c.html#357eae20439e1160684cd0dc55568fbe">cmd_help</a>   (<span class="keywordtype">char</span> *, MsgType, <span class="keywordtype">char</span> *); <span class="comment">// show command help</span>
<a name="l00027"></a>00027 <span class="keywordtype">int</span> <a class="code" href="commands_8c.html#83a648f52b54a2945f4e0450cd418e02">cmd_history</a>(<span class="keywordtype">char</span> *, MsgType, <span class="keywordtype">char</span> *); <span class="comment">// cli history utility</span>
<a name="l00028"></a>00028 
<a name="l00029"></a>00029 <span class="comment">// Application Commands</span>
<a name="l00030"></a>00030 
<a name="l00031"></a>00031 <span class="keywordtype">int</span> <a class="code" href="commands_8c.html#2f702ae5479f05b5692f4a00c3d97118">cmd_estatus</a> (<span class="keywordtype">char</span> *, MsgType, <span class="keywordtype">char</span> *);  <span class="comment">// Query MODS environment sensor status</span>
<a name="l00032"></a>00032 <span class="keywordtype">int</span> <a class="code" href="commands_8c.html#41d0925f4aac32db0562b5702e5bf29e">cmd_pstatus</a> (<span class="keywordtype">char</span> *, MsgType, <span class="keywordtype">char</span> *);  <span class="comment">// Query MODS AC power control status</span>
<a name="l00033"></a>00033 <span class="keywordtype">int</span> <a class="code" href="commands_8c.html#d0d36a9bb3749cb33006382e060bdd95">cmd_cadence</a> (<span class="keywordtype">char</span> *, MsgType, <span class="keywordtype">char</span> *);  <span class="comment">// Query/Set the monitoring cadence in seconds</span>
<a name="l00034"></a>00034 <span class="keywordtype">int</span> <a class="code" href="commands_8c.html#1b1cf7de5505b929f08dbc6ab1aca7de">cmd_pause</a>   (<span class="keywordtype">char</span> *, MsgType, <span class="keywordtype">char</span> *);  <span class="comment">// Pause monitoring</span>
<a name="l00035"></a>00035 <span class="keywordtype">int</span> <a class="code" href="commands_8c.html#ec86a856ae686fbe4f4d2b075ed6486f">cmd_resume</a>  (<span class="keywordtype">char</span> *, MsgType, <span class="keywordtype">char</span> *);  <span class="comment">// Resume monitoring</span>
<a name="l00036"></a>00036 <span class="keywordtype">int</span> <a class="code" href="commands_8c.html#ae0d573e9e9cbd7b6bbf5c5a9b39fee8">cmd_logging</a> (<span class="keywordtype">char</span> *, MsgType, <span class="keywordtype">char</span> *);  <span class="comment">// Enable/Disable/Query the data logging state</span>
<a name="l00037"></a>00037 <span class="keywordtype">int</span> <a class="code" href="commands_8c.html#f55042082faa5f33bed3c05d08747c79">cmd_config</a>  (<span class="keywordtype">char</span> *, MsgType, <span class="keywordtype">char</span> *);  <span class="comment">// Print the agent config info (engineering)</span>
<a name="l00038"></a>00038 <span class="keywordtype">int</span> <a class="code" href="commands_8c.html#12ff5d649637f71e855f5f32177ba727">cmd_comment</a> (<span class="keywordtype">char</span> *, MsgType, <span class="keywordtype">char</span> *);  <span class="comment">// Append a comment to the log</span>
<a name="l00039"></a>00039 
<a name="l00040"></a>00040 <span class="comment">// Application command/action structure</span>
<a name="l00041"></a>00041 
<a name="l00046"></a><a class="code" href="structCommands.html">00046</a> <span class="keyword">struct </span><a class="code" href="structCommands.html">Commands</a> {
<a name="l00047"></a><a class="code" href="structCommands.html#caee1c5c96c95e30ee573982f4b36938">00047</a>   <span class="keywordtype">char</span> *<a class="code" href="structCommands.html#caee1c5c96c95e30ee573982f4b36938">cmd</a>;        
<a name="l00048"></a>00048 
<a name="l00075"></a>00075   int(* <a class="code" href="structCommands.html#c36b1674160ce7e658de8faa58f183d1">action</a>)(<span class="keywordtype">char</span> *args, MsgType msgtype, <span class="keywordtype">char</span> *reply);  
<a name="l00076"></a>00076 
<a name="l00077"></a><a class="code" href="structCommands.html#faf54aaf142d8e38ba71223f146dfb48">00077</a>   <span class="keywordtype">char</span> *<a class="code" href="structCommands.html#faf54aaf142d8e38ba71223f146dfb48">usage</a>;        
<a name="l00078"></a><a class="code" href="structCommands.html#b0d91ddc6e8ceaa454ff42ebfe9861fe">00078</a>   <span class="keywordtype">char</span> *<a class="code" href="structCommands.html#b0d91ddc6e8ceaa454ff42ebfe9861fe">description</a>;  
<a name="l00079"></a>00079 }
<a name="l00080"></a>00080 <a class="code" href="commands_8h.html#c45e2c3ad386791306a2094a5bca2576">cmdtab</a>[] = {   
<a name="l00081"></a>00081   {<span class="stringliteral">"quit"</span>    ,<a class="code" href="commands_8c.html#a1cb10f66c38a2a44c00b595d616fc75">cmd_quit</a>    ,<span class="stringliteral">"quit"</span>,<span class="stringliteral">"Terminate the client session"</span>},
<a name="l00082"></a>00082   {<span class="stringliteral">"verbose"</span> ,<a class="code" href="commands_8c.html#efdcd23f71a5af34669b8f81c4f105ef">cmd_verbose</a> ,<span class="stringliteral">"verbose"</span>,<span class="stringliteral">"Toggle verbose output mode on/off"</span>},
<a name="l00083"></a>00083   {<span class="stringliteral">"debug"</span>   ,<a class="code" href="commands_8c.html#48cc18e5e4178f3383a67c557680bd1e">cmd_debug</a>   ,<span class="stringliteral">"debug"</span>,<span class="stringliteral">"Toggle super-verbose debugging output mode on/off"</span>},
<a name="l00084"></a>00084   {<span class="stringliteral">"history"</span> ,<a class="code" href="commands_8c.html#83a648f52b54a2945f4e0450cd418e02">cmd_history</a> ,<span class="stringliteral">"history"</span>,<span class="stringliteral">"Show the command history (console only)"</span>},
<a name="l00085"></a>00085   {<span class="stringliteral">"info"</span>    ,<a class="code" href="commands_8c.html#55e13dc821a12cf5924f690f0e3402dc">cmd_info</a>    ,<span class="stringliteral">"info"</span>,<span class="stringliteral">"Report client session runtime info"</span>},
<a name="l00086"></a>00086   {<span class="stringliteral">"status"</span>  ,<a class="code" href="commands_8c.html#55e13dc821a12cf5924f690f0e3402dc">cmd_info</a>    ,<span class="stringliteral">"status"</span>,<span class="stringliteral">"Report the client runtime status (alias for info)"</span>},
<a name="l00087"></a>00087   {<span class="stringliteral">"version"</span> ,<a class="code" href="commands_8c.html#7b7e22a2df8f577f559fdb6df89fb15a">cmd_version</a> ,<span class="stringliteral">"version"</span>,<span class="stringliteral">"Report the client version and compilation time"</span>},
<a name="l00088"></a>00088   {<span class="stringliteral">"estatus"</span> ,<a class="code" href="commands_8c.html#2f702ae5479f05b5692f4a00c3d97118">cmd_estatus</a> ,<span class="stringliteral">"estatus"</span>,<span class="stringliteral">"Report the current MODS environmental sensor status"</span>},
<a name="l00089"></a>00089   {<span class="stringliteral">"pstatus"</span> ,<a class="code" href="commands_8c.html#41d0925f4aac32db0562b5702e5bf29e">cmd_pstatus</a> ,<span class="stringliteral">"pstatus"</span>,<span class="stringliteral">"Report the current MODS AC power control system sensor status"</span>},
<a name="l00090"></a>00090   {<span class="stringliteral">"cadence"</span> ,<a class="code" href="commands_8c.html#d0d36a9bb3749cb33006382e060bdd95">cmd_cadence</a> ,<span class="stringliteral">"cadence"</span>,<span class="stringliteral">"Set/Query the monitoring cadence in seconds"</span>},
<a name="l00091"></a>00091   {<span class="stringliteral">"pause"</span>   ,<a class="code" href="commands_8c.html#1b1cf7de5505b929f08dbc6ab1aca7de">cmd_pause</a>   ,<span class="stringliteral">"pause"</span>,<span class="stringliteral">"Pause monitoring (see RESUME)"</span>},
<a name="l00092"></a>00092   {<span class="stringliteral">"resume"</span>  ,<a class="code" href="commands_8c.html#ec86a856ae686fbe4f4d2b075ed6486f">cmd_resume</a>  ,<span class="stringliteral">"resume"</span>,<span class="stringliteral">"Resume monitoring after a PAUSE"</span>},
<a name="l00093"></a>00093   {<span class="stringliteral">"log"</span>     ,<a class="code" href="commands_8c.html#ae0d573e9e9cbd7b6bbf5c5a9b39fee8">cmd_logging</a> ,<span class="stringliteral">"log &lt;enable|disable&gt;"</span>,<span class="stringliteral">"Enable/Disable enviromental sensor data logging"</span>},
<a name="l00094"></a>00094   {<span class="stringliteral">"logging"</span> ,<a class="code" href="commands_8c.html#ae0d573e9e9cbd7b6bbf5c5a9b39fee8">cmd_logging</a> ,<span class="stringliteral">"logging &lt;enable|disable&gt;"</span>,<span class="stringliteral">"Enable/Disable enviromental sensor data logging"</span>},
<a name="l00095"></a>00095   {<span class="stringliteral">"comment"</span> ,<a class="code" href="commands_8c.html#12ff5d649637f71e855f5f32177ba727">cmd_comment</a> ,<span class="stringliteral">"comment &lt;message&gt;"</span>,<span class="stringliteral">"Append a comment to the log"</span>},
<a name="l00096"></a>00096   {<span class="stringliteral">"config"</span>  ,<a class="code" href="commands_8c.html#f55042082faa5f33bed3c05d08747c79">cmd_config</a>  ,<span class="stringliteral">"config"</span>,<span class="stringliteral">"Report agent configuration [engineering]"</span>},
<a name="l00097"></a>00097   {<span class="stringliteral">"help"</span>    ,<a class="code" href="commands_8c.html#357eae20439e1160684cd0dc55568fbe">cmd_help</a>    ,<span class="stringliteral">"help &lt;cmd&gt;"</span>,<span class="stringliteral">"Help command (alias: ? &lt;cmd&gt;)"</span>},
<a name="l00098"></a>00098   {<span class="stringliteral">"?"</span>       ,<a class="code" href="commands_8c.html#357eae20439e1160684cd0dc55568fbe">cmd_help</a>    ,<span class="stringliteral">""</span>,<span class="stringliteral">""</span>},  <span class="comment">// "" excludes from help</span>
<a name="l00099"></a>00099   {<span class="stringliteral">"ping"</span>    ,<a class="code" href="commands_8c.html#eb18b9bbb997bd5f8af6ff7992f76cc8">cmd_ping</a>    ,<span class="stringliteral">""</span>,<span class="stringliteral">""</span>},
<a name="l00100"></a>00100   {<span class="stringliteral">"pong"</span>    ,<a class="code" href="commands_8c.html#25bc932ab16b3b0e789181a71b504482">cmd_pong</a>    ,<span class="stringliteral">""</span>,<span class="stringliteral">""</span>}   
<a name="l00101"></a>00101 };
<a name="l00102"></a>00102 
<a name="l00103"></a>00103 <span class="comment">// Number of commands defined (so we don't have to count correctly)</span>
<a name="l00104"></a>00104   
<a name="l00105"></a><a class="code" href="commands_8h.html#da10aa7cb4c086128d414d1e89d88ef2">00105</a> <span class="keywordtype">int</span> <a class="code" href="commands_8h.html#da10aa7cb4c086128d414d1e89d88ef2">NumCommands</a> = <span class="keyword">sizeof</span>(<a class="code" href="commands_8h.html#c45e2c3ad386791306a2094a5bca2576">cmdtab</a>)/<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structCommands.html">Commands</a>);  
<a name="l00106"></a>00106 
<a name="l00107"></a>00107 <span class="comment">// command function return codes</span>
<a name="l00108"></a>00108 
<a name="l00109"></a><a class="code" href="commands_8h.html#bb50905ce8538a1ee8952ff664a7a865">00109</a> <span class="preprocessor">#define CMD_OK   0   </span>
<a name="l00110"></a><a class="code" href="commands_8h.html#fadcbe33225bd4df3b3f033a11408785">00110</a> <span class="preprocessor">#define CMD_ERR -1   </span>
<a name="l00111"></a><a class="code" href="commands_8h.html#48f8052d105807409b4d6b4c351c66b1">00111</a> <span class="preprocessor">#define CMD_NOOP 1   </span>
<a name="l00112"></a>00112 <span class="preprocessor"></span>
<a name="l00113"></a>00113 <span class="preprocessor"></span><span class="preprocessor">#endif // COMMANDS_H</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on 15 Aug 2013 for modsenv - MODS Environmental Sensor Monitor Agent by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
