<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>modsenv - MODS Environmental Sensor Monitor Agent: loadconfig.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<h1>loadconfig.c File Reference</h1>Load/Parse ISIS client's runtime configuration file. <a href="#_details">More...</a>
<p>
<code>#include &quot;<a class="el" href="client_8h-source.html">client.h</a>&quot;</code><br>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="loadconfig_8c.html#d4c4f12d709b22ee2d1088222c42af14">loadConfig</a> (char *cfgfile)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Load/Parse ISIS client's runtime configuration file.  <a href="#d4c4f12d709b22ee2d1088222c42af14"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Load/Parse ISIS client's runtime configuration file. 
<p>
ISIS-style runtime configuration files (e.g., named myclient.ini, .myclientrc, whatever) contain simple Keyword-Value pairs that are parsed into global-scope variables for the client and its various subroutines to use.<p>
The # is used as a comment character, making a comment line when it appears as the first character in a line by itself. Inline comments are not supported by this simple parser, but are generally ignored since it assumes (again for simplicity) that value arguments are numbers or strings without spaces. Fancier parsers can be implemented as needed. Blank lines are ignored by the parser. We adopt the convention that keywords and values are case insensitive, to remove any ambiguity.<p>
This template provides a good example of common client initialiation file parameters and syntax. The idea is to make the runtime config files for all ISIS clients look pretty much the same in terms of having a common syntax as appearance. The utility function GetArg() used here is from isisutils.c, with the prototype defined in the isisclient.h header.<p>
A typical runtime config file has the following structure: <div class="fragment"><pre class="fragment"><span class="preprocessor">   #</span>
<span class="preprocessor"></span><span class="preprocessor">   # modsenv client runtime config file</span>
<span class="preprocessor"></span><span class="preprocessor">   #</span>
<span class="preprocessor"></span><span class="preprocessor">   # R. Pogge, OSU Astronomy Dept.</span>
<span class="preprocessor"></span><span class="preprocessor">   # pogge@astronomy.ohio-state.edu</span>
<span class="preprocessor"></span><span class="preprocessor">   # 2010 June 21</span>
<span class="preprocessor"></span><span class="preprocessor">   #</span>
<span class="preprocessor"></span><span class="preprocessor">   ################################################################</span>
<span class="preprocessor"></span>
<span class="preprocessor">   # modsenv ISIS client info (Host=localhost is implicit)</span>
<span class="preprocessor"></span>
   ID   M1.ENV
   Port 10901

<span class="preprocessor">   # Application Mode: either STANDALONE or ISISclient</span>
<span class="preprocessor"></span>
<span class="preprocessor">   #Mode Standalone</span>
<span class="preprocessor"></span>   Mode ISISclient

<span class="preprocessor">   # ISIS Server Info - only releveant if Mode=ISISclient</span>
<span class="preprocessor"></span>
   ISISID   IS
   ISISHost 192.168.139.131
   ISISPort 6600

<span class="preprocessor">   # Environmental Monitor Parameters</span>
<span class="preprocessor"></span>
   InstID  MODS1
   Cadence 60
   DataLog /home/dts/Logs/Env/mods1
   IUB     192.168.139.122
   IEB_R   192.168.139.100
   IEB_B   192.168.139.110
   #NoLog

<span class="preprocessor">   # Runtime flags </span>
<span class="preprocessor"></span>
   VERBOSE
<span class="preprocessor">   #debug</span>
</pre></div><p>
As this example shows, the goal is that runtime configuration files are easily read and created by humans. A common syntax makes maintenance of many clients easier.<p>
<dl compact><dt><b>Author:</b></dt><dd>R. Pogge, OSU Astronomy Dept. (<a href="mailto:pogge@astronomy.ohio-state.edu">pogge@astronomy.ohio-state.edu</a>) </dd></dl>
<dl compact><dt><b>Date:</b></dt><dd>2010 June 21</dd></dl>
<dl compact><dt><b>Mods Modification History:</b></dt><dd><pre>  
  2010 Jan 21 - first cut [rwp/osu]
</pre> </dd></dl>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="d4c4f12d709b22ee2d1088222c42af14"></a><!-- doxytag: member="loadconfig.c::loadConfig" ref="d4c4f12d709b22ee2d1088222c42af14" args="(char *cfgfile)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int loadConfig           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>cfgfile</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Load/Parse ISIS client's runtime configuration file. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cfgfile</em>&nbsp;</td><td>Path/name of the client runtime configuration file </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 if success, &lt;0 if failure. All error message are printed to the client's console.</dd></dl>
The precise actions of LoadConfig() are tailored to the client application. 
</div>
</div><p>
<hr size="1"><address style="align: right;"><small>Generated on 15 Aug 2013 for modsenv - MODS Environmental Sensor Monitor Agent by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
